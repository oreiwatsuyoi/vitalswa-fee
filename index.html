<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>VitalSwap | Transparent Fees</title>

<!-- PWA Manifest -->
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#2563eb">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="VitalSwap">
<link rel="apple-touch-icon" href="https://images.vitalswap.com/pay-with-vitalswap/1.png">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root {
  --primary: #2563eb;
  --secondary: #3b82f6;
  --accent: #1d4ed8;
  --success: #059669;
  --warning: #d97706;
  --danger: #dc2626;
  --dark: #1e293b;
  --light: #ffffff;
  --gray-100: #f8fafc;
  --gray-200: #e2e8f0;
  --gray-300: #94a3b8;
  --gray-400: #64748b;
  --gray-500: #475569;
  --gray-600: #334155;
  --gray-700: #1e293b;
  --gray-800: #0f172a;
  --gray-900: #020617;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', sans-serif;
  background: var(--light);
  color: var(--dark);
  overflow-x: hidden;
  line-height: 1.6;
  margin: 0;
  padding: 0;
}

/* DYNAMIC BACKGROUND */
.dynamic-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  background: radial-gradient(circle at 20% 50%, rgba(37, 99, 235, 0.08) 0%, transparent 50%),
              radial-gradient(circle at 80% 20%, rgba(59, 130, 246, 0.06) 0%, transparent 50%),
              radial-gradient(circle at 40% 80%, rgba(29, 78, 216, 0.04) 0%, transparent 50%),
              linear-gradient(135deg, #ffffff 0%, #f8fafc 30%, #e2e8f0 70%, #cbd5e1 100%);
  animation: morphBackground 20s ease-in-out infinite;
}

@keyframes morphBackground {
  0%, 100% { filter: hue-rotate(0deg) brightness(1) saturate(1); }
  25% { filter: hue-rotate(15deg) brightness(1.02) saturate(1.1); }
  50% { filter: hue-rotate(30deg) brightness(0.98) saturate(0.9); }
  75% { filter: hue-rotate(45deg) brightness(1.01) saturate(1.05); }
}

/* PARTICLE SYSTEM */
.particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  pointer-events: none;
}

.particle {
  position: absolute;
  width: 2px;
  height: 2px;
  background: var(--primary);
  border-radius: 50%;
  animation: float 6s ease-in-out infinite;
  opacity: 0.6;
}

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
}

/* LASER LIGHTS */
.laser-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  pointer-events: none;
  overflow: hidden;
}

.laser {
  position: absolute;
  width: 2px;
  height: 100%;
  background: linear-gradient(to bottom, transparent, var(--primary), transparent);
  animation: laser 4s linear infinite;
  opacity: 0.3;
}

@keyframes laser {
  0% { transform: translateX(-100px) rotate(45deg); }
  100% { transform: translateX(calc(100vw + 100px)) rotate(45deg); }
}

/* DYNAMIC NAVIGATION */
.nav-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  transition: all 0.3s ease;
}

.mobile-nav {
  display: none;
}

@media (max-width: 768px) {
  .nav-links {
    display: none;
  }
  
  .mobile-nav {
    display: flex;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(20px);
    border-top: 2px solid rgba(37, 99, 235, 0.3);
    box-shadow: 0 -4px 20px rgba(37, 99, 235, 0.15);
    padding: 0.75rem 1rem;
    justify-content: space-around;
    z-index: 1001;
  }
  
  .mobile-nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    color: var(--gray-600);
    font-size: 0.7rem;
    font-weight: 500;
    transition: all 0.3s ease;
    padding: 0.5rem;
    border-radius: 8px;
  }
  
  .mobile-nav-item:hover {
    color: var(--primary);
    background: rgba(37, 99, 235, 0.1);
  }
  
  .mobile-nav-item i {
    font-size: 1.2rem;
    margin-bottom: 0.25rem;
  }
  
  .desktop-balance {
    display: none;
  }
  
  .mobile-balance {
    display: flex !important;
    font-size: 0.8rem;
    padding: 0.4rem 0.8rem;
  }
}

.nav-glass {
  backdrop-filter: blur(20px);
  background: rgba(255, 255, 255, 0.9);
  border-bottom: 1px solid rgba(37, 99, 235, 0.1);
  box-shadow: 0 4px 20px rgba(37, 99, 235, 0.1);
}

nav {
  padding: 1rem 0;
  transition: all 0.3s ease;
}

.nav-content {
  max-width: 1400px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 2rem;
  width: 100%;
  box-sizing: border-box;
}

.nav-right {
  display: flex;
  align-items: center;
  gap: 1.5rem;
}

.account-balance {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background: rgba(37, 99, 235, 0.1);
  padding: 0.5rem 1rem;
  border-radius: 25px;
  font-weight: 600;
  color: var(--primary);
  font-size: 0.9rem;
}

.logo {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 1.5rem;
  font-weight: 800;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.logo img {
  width: 62px;
  height: 32px;
  border-radius: 6px;
}

.nav-links {
  display: flex;
  gap: 2rem;
  list-style: none;
}

.nav-links a {
  color: var(--dark);
  text-decoration: none;
  font-weight: 500;
  position: relative;
  transition: all 0.3s ease;
  padding: 0.5rem 1rem;
  border-radius: 8px;
}

.nav-links a:hover {
  color: var(--primary);
  background: rgba(37, 99, 235, 0.1);
  transform: translateY(-2px);
}

.nav-links a::after {
  content: '';
  position: absolute;
  bottom: -5px;
  left: 50%;
  width: 0;
  height: 2px;
  background: var(--primary);
  transition: all 0.3s ease;
  transform: translateX(-50%);
}

.nav-links a:hover::after {
  width: 80%;
}

.nav-cta {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  padding: 0.75rem 1.5rem;
  border-radius: 50px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
}

.nav-cta:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
}

/* HERO SECTION */
.hero {
  min-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
  padding: 2rem;
}

.hero-content {
  max-width: 900px;
  z-index: 10;
  display: flex;
  justify-content: center;
}

.unified-card {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(37, 99, 235, 0.2);
  border-radius: 25px;
  padding: 3rem;
  box-shadow: 0 12px 40px rgba(37, 99, 235, 0.15);
  transition: all 0.3s ease;
  width: 100%;
  text-align: center;
}

.unified-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 16px 50px rgba(37, 99, 235, 0.2);
}

.card-icons {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin-bottom: 2rem;
}

.card-icon {
  width: 70px;
  height: 70px;
  border-radius: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.8rem;
  color: white;
}

.fee-icon {
  background: linear-gradient(135deg, var(--success), var(--primary));
}

.services-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin-bottom: 2.5rem;
}

.service-item {
  padding: 1.5rem;
  background: rgba(37, 99, 235, 0.05);
  border-radius: 15px;
  border: 1px solid rgba(37, 99, 235, 0.1);
}

.service-item h3 {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--dark);
  margin-bottom: 0.5rem;
}

.service-item span {
  font-size: 0.9rem;
  color: var(--gray-500);
}

.unified-card h1 {
  font-size: clamp(2.5rem, 5vw, 3.5rem);
  font-weight: 800;
  margin-bottom: 1.5rem;
  background: linear-gradient(135deg, var(--dark), var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.unified-card p {
  font-size: 1.2rem;
  color: var(--gray-500);
  margin-bottom: 2.5rem;
  line-height: 1.7;
}

.booth-card {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(37, 99, 235, 0.2);
  border-radius: 20px;
  padding: 2rem;
  box-shadow: 0 8px 32px rgba(37, 99, 235, 0.15);
  transition: all 0.3s ease;
  max-width: 400px;
  width: 100%;
}

.booth-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 40px rgba(37, 99, 235, 0.2);
}

.booth-icon {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border-radius: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  color: white;
  margin: 0 auto 1.5rem;
}

.booth-card h3 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--dark);
  margin-bottom: 1rem;
}

.booth-card p {
  color: var(--gray-500);
  margin-bottom: 2rem;
  line-height: 1.6;
}

.booth-buttons {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.booth-buttons .btn {
  padding: 0.75rem 1.5rem;
  font-size: 0.9rem;
}

.nav-booth-link {
  background: rgba(37, 99, 235, 0.1) !important;
  color: var(--primary) !important;
  border-radius: 8px !important;
  font-weight: 600 !important;
}

.nav-booth-link:hover {
  background: var(--primary) !important;
  color: white !important;
}

.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background: rgba(37, 99, 235, 0.1);
  border: 1px solid rgba(37, 99, 235, 0.3);
  padding: 0.5rem 1rem;
  border-radius: 50px;
  font-size: 0.9rem;
  margin-bottom: 2rem;
  animation: pulse 2s ease-in-out infinite;
  color: var(--primary);
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.hero h1 {
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 800;
  margin-bottom: 1rem;
  background: linear-gradient(135deg, var(--dark), var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: textShine 3s ease-in-out infinite;
}

@keyframes textShine {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.hero p {
  font-size: 1.25rem;
  color: var(--gray-500);
  margin-bottom: 3rem;
  line-height: 1.8;
}

.hero-buttons {
  display: flex;
  gap: 1.5rem;
  justify-content: center;
  flex-wrap: wrap;
}

.btn {
  padding: 1rem 2rem;
  border-radius: 50px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
}

.btn-secondary {
  background: rgba(37, 99, 235, 0.1);
  color: var(--primary);
  border: 1px solid rgba(37, 99, 235, 0.3);
}

.btn-secondary:hover {
  background: var(--primary);
  color: white;
  transform: translateY(-2px);
}

/* COMPARISON SECTION */
.comparison-section {
  padding: 5rem 2rem;
  max-width: 1400px;
  margin: 0 auto;
}

.section-header {
  text-align: center;
  margin-bottom: 4rem;
}

.section-header h2 {
  font-size: clamp(2rem, 4vw, 3rem);
  font-weight: 800;
  margin-bottom: 1rem;
  background: linear-gradient(135deg, var(--dark), var(--primary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.section-header p {
  font-size: 1.1rem;
  color: var(--gray-500);
  max-width: 600px;
  margin: 0 auto;
}

.comparison-controls {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 3rem;
  flex-wrap: wrap;
}

@media (max-width: 768px) {
  .comparison-controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr auto;
    gap: 1rem;
    max-width: 400px;
    margin: 0 auto 3rem;
  }
  
  .comparison-controls .filter-btn:nth-child(5) {
    grid-column: 1 / -1;
    justify-self: center;
    max-width: 200px;
  }
}

.filter-btn {
  padding: 0.75rem 1.5rem;
  border-radius: 25px;
  border: 2px solid rgba(37, 99, 235, 0.2);
  background: rgba(255, 255, 255, 0.9);
  color: var(--gray-600);
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.filter-btn.active {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
}

.filter-btn:hover {
  border-color: var(--primary);
  color: var(--primary);
}

.filter-btn.active:hover {
  color: white;
}

/* CAROUSEL STYLES */
.carousel-container {
  position: relative;
  margin-bottom: 3rem;
  overflow: hidden;
  padding: 2rem 0;
}

.carousel-wrapper {
  display: flex;
  transition: transform 0.5s ease;
  gap: 2rem;
  padding: 0 1rem;
}

.carousel-track {
  display: flex;
  gap: 2rem;
  min-width: 100%;
}

.carousel-nav {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  margin-top: 2rem;
}

.carousel-btn {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: none;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
}

.carousel-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
}

.carousel-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.carousel-dots {
  display: flex;
  gap: 0.5rem;
}

.carousel-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: none;
  background: rgba(37, 99, 235, 0.3);
  cursor: pointer;
  transition: all 0.3s ease;
}

.carousel-dot.active {
  background: var(--primary);
  transform: scale(1.2);
}

.comparison-grid {
  display: flex;
  gap: 2rem;
  width: max-content;
}

.service-card {
  flex: 0 0 350px;
  width: 350px;
  transition: all 0.4s ease;
  opacity: 0.7;
  transform: scale(0.9);
}

.service-card.center-focus {
  opacity: 1;
  transform: scale(1.1);
  z-index: 100;
  box-shadow: 0 20px 60px rgba(37, 99, 235, 0.3) !important;
}

.service-card {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(37, 99, 235, 0.15);
  border-radius: 20px;
  padding: 2rem;
  box-shadow: 0 8px 32px rgba(37, 99, 235, 0.1);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.service-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
}

.service-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 40px rgba(37, 99, 235, 0.2);
  border-color: rgba(37, 99, 235, 0.3);
}

.service-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.service-icon {
  width: 50px;
  height: 50px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  color: white;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
}

.service-title {
  flex: 1;
}

.service-title h3 {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--dark);
  margin-bottom: 0.25rem;
}

.service-title .category {
  font-size: 0.85rem;
  color: var(--gray-500);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.fee-list {
  list-style: none;
}

.fee-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 0;
  border-bottom: 1px solid rgba(37, 99, 235, 0.1);
}

.fee-item:last-child {
  border-bottom: none;
}

.fee-name {
  font-weight: 500;
  color: var(--dark);
  flex: 1;
}

.fee-amount {
  font-weight: 700;
  font-size: 1.1rem;
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  background: rgba(37, 99, 235, 0.1);
  color: var(--primary);
}

.fee-amount.free {
  background: rgba(5, 150, 105, 0.1);
  color: var(--success);
}

.fee-amount.percentage {
  background: rgba(217, 119, 6, 0.1);
  color: var(--warning);
}

.comparison-table {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(37, 99, 235, 0.15);
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(37, 99, 235, 0.1);
}

.table-header {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  padding: 1.5rem;
  text-align: center;
}

.table-header h3 {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
}

.table-content {
  padding: 2rem;
  max-height: 40vh;
  overflow-y: auto;
}

.fee-search {
  width: 100%;
  max-width: 300px;
  padding: 0.75rem 1rem;
  margin-top: 1rem;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 25px;
  background: rgba(255, 255, 255, 0.2);
  color: white;
  font-size: 0.9rem;
  outline: none;
}

.fee-search::placeholder {
  color: rgba(255, 255, 255, 0.7);
}

.fee-search:focus {
  border-color: rgba(255, 255, 255, 0.5);
  background: rgba(255, 255, 255, 0.3);
}

.comparison-row {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr;
  gap: 1rem;
  padding: 1rem 0;
  border-bottom: 1px solid rgba(37, 99, 235, 0.1);
  align-items: center;
}

.comparison-row:last-child {
  border-bottom: none;
}

.service-name {
  font-weight: 600;
  color: var(--dark);
}

.customer-fee, .business-fee {
  text-align: center;
  font-weight: 700;
  padding: 0.5rem;
  border-radius: 8px;
}

.customer-fee {
  background: rgba(37, 99, 235, 0.1);
  color: var(--primary);
}

.business-fee {
  background: rgba(5, 150, 105, 0.1);
  color: var(--success);
}

.highlight-card {
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.05), rgba(59, 130, 246, 0.05));
  border: 2px solid rgba(37, 99, 235, 0.2);
  position: relative;
}

.highlight-card::after {
  content: 'Popular';
  position: absolute;
  top: -10px;
  right: 20px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  padding: 0.25rem 1rem;
  border-radius: 15px;
  font-size: 0.8rem;
  font-weight: 600;
}

.currency-info {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(37, 99, 235, 0.15);
  border-radius: 20px;
  padding: 2rem;
  margin-top: 3rem;
  text-align: center;
}

.currency-info h3 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--dark);
  margin-bottom: 1rem;
}

.currency-rates {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.rate-item {
  text-align: center;
}

.rate-item .currency {
  font-size: 2rem;
  font-weight: 800;
  color: var(--primary);
  display: block;
}

.rate-item .label {
  font-size: 0.9rem;
  color: var(--gray-500);
  margin-top: 0.5rem;
}

/* RESPONSIVE DESIGN */
@media (max-width: 768px) {
  .carousel-container {
    overflow: hidden;
    padding: 3rem 0;
    margin: 0 -1rem;
  }
  
  .carousel-wrapper {
    padding: 0 2rem;
  }
  
  .service-card {
    flex: 0 0 280px;
    width: 280px;
    margin: 0;
    padding: 1.5rem;
  }
  
  .service-card.center-focus {
    transform: scale(1.05);
  }
  
  .comparison-grid {
    gap: 1.5rem;
  }
  
  .comparison-row {
    grid-template-columns: 1fr;
    gap: 0.5rem;
    text-align: center;
  }
  
  .service-name {
    margin-bottom: 0.5rem;
  }
  
  .currency-rates {
    gap: 1.5rem;
  }
  
  .hero-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .nav-links {
    display: none;
  }
}




.btn-primary {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
}

.btn-primary:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
}

.btn-secondary {
  background: transparent;
  color: var(--primary);
  border: 2px solid var(--primary);
}

.btn-secondary:hover {
  background: var(--primary);
  color: white;
  transform: translateY(-3px);
}

/* FLOATING ELEMENTS */
.floating-card {
  position: absolute;
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(37, 99, 235, 0.2);
  border-radius: 20px;
  padding: 1.5rem;
  animation: floatCard 6s ease-in-out infinite;
  box-shadow: 0 8px 32px rgba(37, 99, 235, 0.1);
  color: var(--dark);
}

@keyframes floatCard {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(2deg); }
}

.floating-card-1 {
  top: 20%;
  left: 10%;
  animation-delay: 0s;
}

.floating-card-2 {
  top: 60%;
  right: 10%;
  animation-delay: 2s;
}

.floating-card-3 {
  bottom: 20%;
  left: 5%;
  animation-delay: 4s;
}

/* FEATURES SECTION */
.features {
  padding: 8rem 2rem;
  position: relative;
}

.container {
  max-width: 1400px;
  margin: 0 auto;
  width: 100%;
  box-sizing: border-box;
  padding: 0 2rem;
}

@media (max-width: 768px) {
  .container {
    padding: 0 0.5rem;
  }
}



.section-header {
  text-align: center;
  margin-bottom: 4rem;
}

.section-title {
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 800;
  margin-bottom: 1rem;
  background: linear-gradient(135deg, var(--dark), var(--primary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.section-subtitle {
  font-size: 1.25rem;
  color: var(--gray-500);
  max-width: 600px;
  margin: 0 auto;
}

.features-carousel-container {
  position: relative;
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 2rem;
  margin-top: 4rem;
}

.features-nav {
  display: none;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  margin-top: 2rem;
}

.features-btn {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: none;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.features-btn:hover {
  transform: scale(1.1);
}

.features-dots {
  display: flex;
  gap: 0.5rem;
}

.features-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(37, 99, 235, 0.3);
  cursor: pointer;
  transition: all 0.3s ease;
}

.features-dot.active {
  background: var(--primary);
  transform: scale(1.2);
}

@media (max-width: 768px) {
  .features-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-top: 2rem;
  }
  
  .features-nav {
    display: none;
  }
  
  .mobile-only {
    display: none;
  }
  
  .calculator {
    padding: 4rem 1rem;
    width: 100%;
  }
  
  .calculator-container {
    padding: 2rem 1rem;
    margin: 0;
    max-width: none;
    width: 100%;
  }
  
  .calculator-grid {
    display: flex !important;
    flex-direction: column !important;
    gap: 1.5rem !important;
  }
  
  .calculator-grid .input-group {
    width: 100% !important;
    flex: none !important;
  }
  
  .input-field,
  .select-field {
    width: 100%;
    padding: 1.2rem 1.5rem;
    font-size: 1.1rem;
    min-height: 50px;
  }
  
  .select-field {
    padding-right: 3.5rem;
  }
  
  .input-group {
    margin-bottom: 2rem;
  }
}

.feature-card {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(37, 99, 235, 0.1);
  border-radius: 20px;
  padding: 2.5rem;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(37, 99, 235, 0.05);
}

.feature-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.1), transparent);
  transition: left 0.5s ease;
}

.feature-card:hover::before {
  left: 100%;
}

.feature-card:hover {
  transform: translateY(-10px);
  border-color: var(--primary);
  box-shadow: 0 20px 40px rgba(37, 99, 235, 0.15);
}

.feature-icon {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border-radius: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  margin-bottom: 1.5rem;
}

.feature-title {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 1rem;
  color: var(--dark);
}

.feature-description {
  color: var(--gray-500);
  line-height: 1.7;
}

/* FEE CALCULATOR */
.calculator {
  padding: 8rem 2rem;
  background: rgba(37, 99, 235, 0.03);
  position: relative;
}

.calculator-container {
  max-width: 800px;
  margin: 0 auto;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(37, 99, 235, 0.15);
  border-radius: 30px;
  padding: 3rem;
  text-align: center;
  box-shadow: 0 12px 40px rgba(37, 99, 235, 0.15);
}

.calculator-container .select-field {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(248, 250, 252, 0.9));
  border: 2px solid rgba(37, 99, 235, 0.15);
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.08);
  font-weight: 500;
}

.calculator-container .select-field:hover {
  border-color: var(--primary);
  background: linear-gradient(135deg, rgba(255, 255, 255, 1), rgba(248, 250, 252, 1));
  box-shadow: 0 8px 25px rgba(37, 99, 235, 0.15);
  transform: translateY(-2px);
}

.calculator-container .select-field:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.15), 0 8px 25px rgba(37, 99, 235, 0.1);
  background: linear-gradient(135deg, rgba(255, 255, 255, 1), rgba(248, 250, 252, 1));
  transform: translateY(-2px);
}

.calculator-container .input-field {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(248, 250, 252, 0.9));
  border: 2px solid rgba(37, 99, 235, 0.15);
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.08);
  font-weight: 500;
}

.calculator-container .input-field:hover {
  border-color: var(--primary);
  background: linear-gradient(135deg, rgba(255, 255, 255, 1), rgba(248, 250, 252, 1));
  box-shadow: 0 8px 25px rgba(37, 99, 235, 0.15);
  transform: translateY(-2px);
}

.calculator-container .input-field:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.15), 0 8px 25px rgba(37, 99, 235, 0.1);
  background: linear-gradient(135deg, rgba(255, 255, 255, 1), rgba(248, 250, 252, 1));
  transform: translateY(-2px);
}

.calculator-title {
  font-size: 2rem;
  font-weight: 800;
  margin-bottom: 1rem;
  background: linear-gradient(135deg, var(--dark), var(--primary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.calculator-subtitle {
  color: var(--gray-500);
  margin-bottom: 2rem;
  font-size: 1rem;
}

.input-group {
  position: relative;
  margin-bottom: 1.5rem;
}

.input-field, .select-field {
  width: 100%;
  padding: 1rem 1.5rem;
  background: rgba(255, 255, 255, 0.95);
  border: 2px solid rgba(37, 99, 235, 0.2);
  border-radius: 15px;
  color: var(--dark);
  font-size: 1rem;
  transition: all 0.3s ease;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

.select-field {
  cursor: pointer;
  background-image: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4 5"><path fill="%232563eb" d="M2 0L0 2h4zm0 5L0 3h4z"/></svg>');
  background-repeat: no-repeat;
  background-position: right 1rem center;
  background-size: 12px;
  padding-right: 3rem;
  color: #000000 !important;
}

.select-field:hover {
  border-color: var(--primary);
  background-color: rgba(255, 255, 255, 1);
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
}

.select-field:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  background-color: rgba(255, 255, 255, 1);
}

.select-field:focus:not(:focus-visible) {
  border-color: rgba(37, 99, 235, 0.2);
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.08);
}

.calculator-container .select-field option {
  padding: 1rem 1.5rem;
  background: rgba(255, 255, 255, 0.98);
  color: #000000 !important;
  border: none;
  font-weight: 500;
  border-bottom: 1px solid rgba(37, 99, 235, 0.1);
  transition: all 0.2s ease;
}

.calculator-container .select-field option:hover {
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(59, 130, 246, 0.05));
  color: var(--primary);
  font-weight: 600;
}

.calculator-container .select-field option:checked {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  font-weight: 600;
}

.calculator-container .select-field::-webkit-scrollbar {
  width: 8px;
}

.calculator-container .select-field::-webkit-scrollbar-track {
  background: rgba(248, 250, 252, 0.5);
  border-radius: 4px;
}

.calculator-container .select-field::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border-radius: 4px;
}

.calculator-container .select-field::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, var(--accent), var(--primary));
}

.calculator-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.currency-converter {
  background: rgba(37, 99, 235, 0.05);
  border: 1px solid rgba(37, 99, 235, 0.2);
  border-radius: 15px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.converter-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  align-items: center;
}

.converter-amount {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--primary);
  background: rgba(255, 255, 255, 0.8);
  padding: 1rem 1.5rem;
  border-radius: 15px;
  border: 2px solid rgba(37, 99, 235, 0.1);
}



.input-field:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  background-color: rgba(255, 255, 255, 1);
}

.input-field:focus:not(:focus-visible) {
  border-color: rgba(37, 99, 235, 0.2);
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.08);
}

.input-field:hover {
  border-color: var(--primary);
  background-color: rgba(255, 255, 255, 1);
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
}

.input-field::placeholder {
  color: var(--gray-400);
}

.result-display {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  padding: 2rem;
  border-radius: 20px;
  margin-top: 2rem;
  font-size: 1.5rem;
  font-weight: 700;
  color: white;
  min-height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.result-display.active {
  animation: resultPulse 0.5s ease;
}

@keyframes resultPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

/* FAQ SECTION */
.faq {
  padding: 8rem 2rem;
  background: rgba(37, 99, 235, 0.02);
}

.faq-layout {
  display: grid;
  grid-template-columns: 1fr 400px;
  gap: 3rem;
  max-width: 1200px;
  margin: 0 auto;
}

.faq-container {
  max-width: none;
}

.custom-question-box {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(37, 99, 235, 0.1);
  border-radius: 15px;
  padding: 2rem;
  height: fit-content;
  position: sticky;
  top: 2rem;
}

.custom-question-box h3 {
  color: var(--dark);
  margin-bottom: 1rem;
  font-size: 1.3rem;
}

.custom-question-box p {
  color: var(--gray-500);
  margin-bottom: 1.5rem;
}

.custom-question-box input,
.custom-question-box textarea {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid rgba(37, 99, 235, 0.2);
  border-radius: 8px;
  margin-bottom: 1rem;
  font-family: inherit;
}

.custom-question-box button {
  width: 100%;
}

@media (max-width: 768px) {
  .faq-layout {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .custom-question-box {
    position: static;
  }
}

.faq-item {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(37, 99, 235, 0.1);
  border-radius: 15px;
  margin-bottom: 1rem;
  overflow: hidden;
  transition: all 0.3s ease;
  box-shadow: 0 4px 20px rgba(37, 99, 235, 0.05);
}

.faq-item:hover {
  border-color: var(--primary);
}

.faq-question {
  padding: 1.5rem 2rem;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
  transition: all 0.3s ease;
  color: var(--dark);
  background: none;
  border: none;
  width: 100%;
  text-align: left;
  font-size: inherit;
  font-family: inherit;
}

.faq-question:focus:not(:focus-visible) {
  outline: none;
  background: rgba(37, 99, 235, 0.05);
}

.faq-question:hover {
  background: rgba(37, 99, 235, 0.05);
}

.faq-answer {
  padding: 0 2rem 1.5rem;
  color: var(--gray-500);
  line-height: 1.7;
  max-height: 0;
  overflow: hidden;
  transition: all 0.3s ease;
}

.faq-item.active .faq-answer {
  max-height: 200px;
  padding: 1rem 2rem 1.5rem;
}

.faq-icon {
  transition: transform 0.3s ease;
}

.faq-item.active .faq-icon {
  transform: rotate(180deg);
}

/* FOOTER */
footer {
  background: var(--dark);
  backdrop-filter: blur(10px);
  border-top: 1px solid rgba(37, 99, 235, 0.1);
  padding: 3rem 2rem 1rem;
  text-align: center;
}

.footer-content {
  max-width: 1400px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  margin-bottom: 2rem;
}

.footer-section h3 {
  margin-bottom: 1rem;
  color: var(--light);
}

.footer-section a {
  color: var(--gray-400);
  text-decoration: none;
  display: block;
  margin-bottom: 0.5rem;
  transition: color 0.3s ease;
}

.footer-section a:hover {
  color: var(--secondary);
}

.footer-bottom {
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  padding-top: 2rem;
  color: var(--gray-400);
}

/* SKELETON LOADERS */
.skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* ERROR STATES */
.error-message {
  color: var(--danger);
  font-size: 0.9rem;
  margin-top: 0.5rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  animation: slideInError 0.3s ease;
}

.input-error {
  border-color: var(--danger) !important;
  box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1) !important;
  animation: shakeError 0.5s ease;
}

/* VISUAL FEEDBACK ANIMATIONS */
@keyframes slideInError {
  0% { opacity: 0; transform: translateY(-10px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes shakeError {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

.fee-updated {
  background: linear-gradient(135deg, #10b981, #059669) !important;
  color: white !important;
  animation: pulseSuccess 1s ease;
  transform: scale(1.05);
  transition: all 0.3s ease;
}

@keyframes pulseSuccess {
  0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
  50% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
}

.value-change {
  animation: highlightChange 2s ease;
}

@keyframes highlightChange {
  0% { background: rgba(37, 99, 235, 0.2); }
  50% { background: rgba(37, 99, 235, 0.4); }
  100% { background: transparent; }
}

/* ACCESSIBILITY */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  padding: 0.5rem 1rem;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
  background: var(--primary);
  color: white;
  text-decoration: none;
  z-index: 10000;
  display: block;
  text-align: center;
  font-weight: bold;
}

/* Remove all visible borders and outlines */
fieldset {
  border: none !important;
  padding: 0;
  margin: 0;
}

legend {
  border: none !important;
  padding: 0;
}

form {
  border: none !important;
}

/* Only show focus indicators for keyboard navigation */
.js-focus-visible :focus:not(.focus-visible) {
  outline: none !important;
}

.focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Remove all default focus styles */
:focus {
  outline: none !important;
}

/* Only show focus for keyboard users */
:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* MOBILE RESPONSIVENESS */
@media (max-width: 768px) {
  .hero-content {
    grid-template-columns: 1fr;
    gap: 3rem;
    text-align: center;
  }
  
  .hero-main {
    text-align: center;
  }
  
  .hero-buttons {
    justify-content: center;
  }
  
  .booth-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
  }
  
  .booth-buttons .btn {
    padding: 0.75rem 1rem;
    font-size: 0.85rem;
  }
  
  .features-grid {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .floating-card {
    display: none;
  }
}

/* SCROLL ANIMATIONS */
.fade-in {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.6s ease;
}

.fade-in.visible {
  opacity: 1;
  transform: translateY(0);
}

.slide-in-left {
  opacity: 0;
  transform: translateX(-50px);
  transition: all 0.6s ease;
}

.slide-in-left.visible {
  opacity: 1;
  transform: translateX(0);
}

.slide-in-right {
  opacity: 0;
  transform: translateX(50px);
  transition: all 0.6s ease;
}

.slide-in-right.visible {
  opacity: 1;
  transform: translateX(0);
}

/* COMPARISON TABLE */
.comparison {
  padding: 8rem 2rem;
}

.comparison-table {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(37, 99, 235, 0.1);
  border-radius: 20px;
  overflow: hidden;
  margin-top: 3rem;
  box-shadow: 0 8px 32px rgba(37, 99, 235, 0.1);
}

.table-header {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  padding: 1.5rem;
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: 1rem;
  font-weight: 700;
}

.table-row {
  padding: 1.5rem;
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: 1rem;
  border-bottom: 1px solid rgba(37, 99, 235, 0.1);
  transition: all 0.3s ease;
  color: var(--dark);
}

.table-row:hover {
  background: rgba(37, 99, 235, 0.05);
}

.table-row.highlight {
  background: rgba(0, 255, 136, 0.1);
  border-left: 4px solid var(--success);
}

/* COMPLIANCE SECTION */
.compliance {
  padding: 8rem 2rem;
  background: linear-gradient(135deg, rgba(5, 150, 105, 0.03), rgba(37, 99, 235, 0.05));
  position: relative;
}

.compliance-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.compliance-card {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(5, 150, 105, 0.2);
  border-radius: 20px;
  padding: 2.5rem;
  text-align: center;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(5, 150, 105, 0.1);
}

.compliance-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(135deg, var(--success), var(--primary));
}

.compliance-card:hover {
  transform: translateY(-10px);
  border-color: var(--success);
  box-shadow: 0 20px 60px rgba(5, 150, 105, 0.2);
}

.compliance-icon {
  width: 80px;
  height: 80px;
  background: linear-gradient(135deg, var(--success), var(--primary));
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  color: white;
  margin: 0 auto 1.5rem;
  box-shadow: 0 8px 25px rgba(5, 150, 105, 0.3);
}

.compliance-title {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--dark);
  margin-bottom: 1rem;
}

.compliance-description {
  color: var(--gray-500);
  line-height: 1.6;
  margin-bottom: 1.5rem;
}

.compliance-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background: rgba(5, 150, 105, 0.1);
  color: var(--success);
  padding: 0.5rem 1rem;
  border-radius: 25px;
  font-size: 0.85rem;
  font-weight: 600;
}

/* CTA SECTION */
.cta {
  padding: 8rem 2rem;
  text-align: center;
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.05), rgba(59, 130, 246, 0.03));
  position: relative;
}

.cta-content {
  max-width: 600px;
  margin: 0 auto;
}

.cta-title {
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 800;
  margin-bottom: 1.5rem;
  background: linear-gradient(135deg, var(--dark), var(--primary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}


.cta-subtitle {
  font-size: 1.25rem;
  color: var(--gray-500);
  margin-bottom: 3rem;
  line-height: 1.7;
}

/* FOOTER */
footer {
  background: var(--dark);
  backdrop-filter: blur(10px);
  border-top: 1px solid rgba(37, 99, 235, 0.1);
  padding: 3rem 2rem 1rem;
  text-align: center;
}

.footer-content {
  max-width: 1400px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  margin-bottom: 2rem;
}

.footer-section h3 {
  margin-bottom: 1rem;
  color: var(--light);
}

.footer-section a {
  color: var(--gray-400);
  text-decoration: none;
  display: block;
  margin-bottom: 0.5rem;
  transition: color 0.3s ease;
}

.footer-section a:hover {
  color: var(--secondary);
}

.footer-bottom {
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  padding-top: 2rem;
  color: var(--gray-400);
}

/* PRELOADER */
.preloader {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, var(--light), var(--gray-100));
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  transition: opacity 0.5s ease;
}

/* WELCOME MODAL */
.welcome-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(10px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.welcome-modal.active {
  opacity: 1;
  visibility: visible;
}

.modal-content {
  background: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(20px);
  border-radius: 25px;
  padding: 2.5rem;
  max-width: 800px;
  width: 90%;
  box-shadow: 0 20px 60px rgba(37, 99, 235, 0.3);
  border: 1px solid rgba(37, 99, 235, 0.2);
  transform: scale(0.9);
  transition: transform 0.3s ease;
}

.welcome-modal.active .modal-content {
  transform: scale(1);
}

.modal-header {
  text-align: center;
  margin-bottom: 2rem;
}

.modal-logo {
  width: 80px;
  height: 40px;
  margin-bottom: 1rem;
}

.modal-header h2 {
  font-size: 2rem;
  font-weight: 800;
  color: var(--dark);
  margin-bottom: 0.5rem;
}

.modal-header p {
  color: var(--gray-500);
  font-size: 1.1rem;
}

.feature-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin-bottom: 2rem;
}

.feature-side {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.permissions-side {
  background: rgba(5, 150, 105, 0.05);
  border: 1px solid rgba(5, 150, 105, 0.2);
  border-radius: 15px;
  padding: 1.5rem;
}

.highlight-item {
  display: flex;
  gap: 1rem;
  align-items: flex-start;
  padding: 1rem;
  background: rgba(37, 99, 235, 0.05);
  border-radius: 15px;
  border: 1px solid rgba(37, 99, 235, 0.1);
}

.highlight-item i {
  font-size: 1.5rem;
  color: var(--primary);
  margin-top: 0.25rem;
  flex-shrink: 0;
}

.highlight-item h3 {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--dark);
  margin-bottom: 0.3rem;
}

.highlight-item p {
  color: var(--gray-500);
  line-height: 1.5;
  margin: 0;
  font-size: 0.9rem;
}

.permissions-side h3 {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--dark);
  margin-bottom: 1rem;
  text-align: center;
}

.permission-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem 0;
  color: var(--gray-600);
}

.permission-item i {
  color: var(--success);
  font-size: 1.1rem;
  width: 20px;
}

.modal-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
}

.modal-actions .btn {
  padding: 1rem 2rem;
  font-weight: 600;
}

@media (max-width: 768px) {
  .welcome-modal {
    align-items: flex-end;
  }
  
  .modal-content {
    padding: 1.5rem;
    margin: 0;
    max-height: 85vh;
    width: 100%;
    border-radius: 20px 20px 0 0;
    transform: translateY(100%);
    overflow: hidden;
  }
  
  .welcome-modal.active .modal-content {
    transform: translateY(0);
    animation: slideUpFromBottom 0.3s ease;
  }
  
  .modal-header {
    position: relative;
  }
  
  .modal-header::before {
    content: '';
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 4px;
    background: #ccc;
    border-radius: 2px;
  }
  
  .modal-header h2 {
    font-size: 1.5rem;
    margin-bottom: 0.3rem;
  }
  
  .modal-header p {
    font-size: 0.9rem;
    margin-bottom: 1rem;
  }
  
  .feature-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }
  
  .highlight-item {
    padding: 0.8rem;
    flex-direction: column;
    text-align: center;
  }
  
  .highlight-item h3 {
    font-size: 1rem;
    margin-bottom: 0.2rem;
  }
  
  .highlight-item p {
    font-size: 0.8rem;
    line-height: 1.4;
  }
  
  .permissions-side {
    padding: 1rem;
  }
  
  .permissions-side h3 {
    font-size: 1rem;
    margin-bottom: 0.8rem;
  }
  
  .permission-item {
    font-size: 0.8rem;
    padding: 0.5rem 0;
  }
  
  .modal-actions {
    flex-direction: column;
    gap: 0.8rem;
    margin-top: 1rem;
  }
  
  .modal-actions .btn {
    padding: 0.8rem 1.5rem;
    font-size: 0.9rem;
  }
}

@keyframes slideUpFromBottom {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

.preloader-content {
  text-align: center;
  animation: fadeInUp 1s ease;
}

.preloader-logo {
  width: 80px;
  height: 40px;
  border-radius: 8px;
  margin-bottom: 1rem;
  animation: pulse 2s ease-in-out infinite;
}

.preloader-text {
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 2rem;
}

.loading-bar {
  width: 200px;
  height: 4px;
  background: rgba(37, 99, 235, 0.2);
  border-radius: 2px;
  overflow: hidden;
}

.loading-progress {
  width: 0;
  height: 100%;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border-radius: 2px;
  animation: loadProgress 2s ease-in-out;
}

@keyframes loadProgress {
  0% { width: 0; }
  100% { width: 100%; }
}

@keyframes fadeInUp {
  0% { opacity: 0; transform: translateY(30px); }
  100% { opacity: 1; transform: translateY(0); }
}

/* SWAP AI WIDGET */
.swap-ai-widget {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1000;
}

.ai-chat-button {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 1.5rem;
  cursor: pointer;
  box-shadow: 0 4px 20px rgba(37, 99, 235, 0.3);
  transition: all 0.3s ease;
  animation: bounce 1.5s ease-in-out infinite;
}

@keyframes bounce {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

.ai-chat-button:hover {
  transform: scale(1.1);
  box-shadow: 0 8px 30px rgba(37, 99, 235, 0.4);
}

.ai-chat-panel {
  position: absolute;
  bottom: 80px;
  right: 0;
  width: 350px;
  height: 400px;
  background: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(37, 99, 235, 0.2);
  border-radius: 20px;
  box-shadow: 0 12px 40px rgba(37, 99, 235, 0.2);
  display: none;
  flex-direction: column;
  overflow: hidden;
}

.ai-chat-panel.active {
  display: flex;
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  0% { opacity: 0; transform: translateY(20px); }
  100% { opacity: 1; transform: translateY(0); }
}

.ai-chat-header {
  padding: 1rem;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.ai-info {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 600;
}

.ai-close-btn {
  background: none;
  border: none;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 0.25rem;
  border-radius: 4px;
  transition: background 0.2s ease;
}

.ai-close-btn:hover {
  background: rgba(255, 255, 255, 0.2);
}

.ai-chat-messages {
  flex: 1;
  padding: 1rem;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.ai-message {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  background: rgba(37, 99, 235, 0.1);
  padding: 0.75rem;
  border-radius: 12px;
  font-size: 0.9rem;
  line-height: 1.4;
}

.user-message {
  background: rgba(5, 150, 105, 0.1);
  margin-left: 2rem;
  flex-direction: row-reverse;
}

.typing-indicator {
  background: rgba(37, 99, 235, 0.05);
  animation: pulse 1.5s ease-in-out infinite;
}

.typing-indicator span {
  font-style: italic;
  opacity: 0.7;
}

.ai-chat-input {
  padding: 1rem;
  border-top: 1px solid rgba(37, 99, 235, 0.1);
  display: flex;
  gap: 0.5rem;
}

.ai-chat-input input {
  flex: 1;
  padding: 0.75rem;
  border: 1px solid rgba(37, 99, 235, 0.2);
  border-radius: 25px;
  outline: none;
  font-size: 0.9rem;
}

.ai-chat-input input:focus {
  border-color: var(--primary);
}

.ai-chat-input button {
  width: 40px;
  height: 40px;
  background: var(--primary);
  border: none;
  border-radius: 50%;
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.ai-chat-input button:hover {
  background: var(--accent);
  transform: scale(1.05);
}

@media (max-width: 768px) {
  .ai-chat-panel {
    width: 300px;
    height: 350px;
  }
  
  .swap-ai-widget {
    bottom: 100px;
  }
}

/* SCROLL TO TOP BUTTON */
.scroll-to-top {
  position: fixed;
  bottom: 20px;
  left: 20px;
  width: 50px;
  height: 50px;
  background: linear-gradient(135deg, var(--success), var(--primary));
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  cursor: pointer;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  z-index: 999;
}

.scroll-to-top.visible {
  opacity: 1;
  visibility: visible;
}

.scroll-to-top:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(5, 150, 105, 0.4);
}

/* ENTERPRISE STATS TICKER */
.stats-ticker {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 45px;
  background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
  border-bottom: 2px solid #00d4ff;
  z-index: 998;
  overflow: hidden;
  box-shadow: 0 2px 20px rgba(0, 212, 255, 0.3);
}

.ticker-wrapper {
  position: relative;
  height: 100%;
  display: flex;
  align-items: center;
}

.ticker-label {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  background: linear-gradient(135deg, #ff6b35, #f7931e);
  color: white;
  display: flex;
  align-items: center;
  padding: 0 20px;
  font-weight: 800;
  font-size: 0.85rem;
  letter-spacing: 1px;
  z-index: 999;
  box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
}

.ticker-content {
  display: flex;
  align-items: center;
  animation: enterpriseScroll 45s linear infinite;
  white-space: nowrap;
  margin-left: 120px;
  height: 100%;
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-right: 60px;
  font-size: 0.85rem;
  font-weight: 600;
  color: #ffffff;
  position: relative;
  padding: 0 15px;
  height: 100%;
  transition: all 0.3s ease;
}

.stat-item::after {
  content: '';
  position: absolute;
  right: -30px;
  top: 50%;
  transform: translateY(-50%);
  width: 1px;
  height: 20px;
  background: linear-gradient(to bottom, transparent, #00d4ff, transparent);
}

.stat-item:hover {
  background: rgba(0, 212, 255, 0.1);
  transform: scale(1.05);
}

.stat-value {
  color: #00ff88;
  font-weight: 800;
  text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
  animation: valueGlow 2s ease-in-out infinite alternate;
}

.stat-change {
  font-size: 0.75rem;
  margin-left: 5px;
  padding: 2px 6px;
  border-radius: 3px;
  font-weight: 700;
}

.stat-change.positive {
  color: #00ff88;
  background: rgba(0, 255, 136, 0.2);
}

.stat-change.negative {
  color: #ff4757;
  background: rgba(255, 71, 87, 0.2);
}

.stat-icon {
  font-size: 1rem;
  color: #00d4ff;
  text-shadow: 0 0 8px rgba(0, 212, 255, 0.6);
  animation: iconPulse 3s ease-in-out infinite;
}

.breaking-news {
  background: linear-gradient(135deg, #ff4757, #ff3742);
  color: white;
  padding: 0 15px;
  margin-right: 60px;
  border-radius: 20px;
  animation: breakingFlash 1.5s ease-in-out infinite;
}

.market-status {
  display: flex;
  align-items: center;
  gap: 5px;
  margin-right: 60px;
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #00ff88;
  animation: statusBlink 2s ease-in-out infinite;
  box-shadow: 0 0 10px rgba(0, 255, 136, 0.8);
}

.crypto-price {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-right: 60px;
  background: rgba(0, 212, 255, 0.1);
  padding: 5px 12px;
  border-radius: 15px;
  border: 1px solid rgba(0, 212, 255, 0.3);
}

.price-chart {
  width: 30px;
  height: 15px;
  background: linear-gradient(45deg, #00ff88 0%, #00d4ff 100%);
  clip-path: polygon(0% 100%, 20% 60%, 40% 80%, 60% 40%, 80% 20%, 100% 0%);
  animation: chartMove 2s ease-in-out infinite;
}

@keyframes enterpriseScroll {
  0% { transform: translateX(100vw); }
  100% { transform: translateX(-100%); }
}

@keyframes valueGlow {
  0% { text-shadow: 0 0 10px rgba(0, 255, 136, 0.5); }
  100% { text-shadow: 0 0 20px rgba(0, 255, 136, 0.8), 0 0 30px rgba(0, 255, 136, 0.3); }
}

@keyframes iconPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

@keyframes breakingFlash {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes statusBlink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

@keyframes chartMove {
  0% { clip-path: polygon(0% 100%, 20% 60%, 40% 80%, 60% 40%, 80% 20%, 100% 0%); }
  50% { clip-path: polygon(0% 80%, 20% 40%, 40% 60%, 60% 20%, 80% 0%, 100% 30%); }
  100% { clip-path: polygon(0% 100%, 20% 60%, 40% 80%, 60% 40%, 80% 20%, 100% 0%); }
}

.ticker-secondary {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, #ff6b35, #f7931e, #00d4ff, #00ff88, #ff4757);
  background-size: 300% 100%;
  animation: gradientShift 3s ease-in-out infinite;
}

@keyframes gradientShift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* DARK MODE TOGGLE */
.theme-toggle {
  position: fixed;
  top: 50%;
  right: 20px;
  width: 50px;
  height: 50px;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(37, 99, 235, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 999;
  color: var(--dark);
}

.theme-toggle:hover {
  background: var(--primary);
  color: white;
  transform: rotate(180deg);
}

/* COMPREHENSIVE DARK MODE */
body.dark-mode {
  --light: #0f0f0f;
  --dark: #ffffff;
  --gray-100: #1a1a1a;
  --gray-200: #2a2a2a;
  --gray-300: #3a3a3a;
  --gray-400: #b0b0b0;
  --gray-500: #d0d0d0;
  --gray-600: #e0e0e0;
  --gray-700: #f0f0f0;
  --gray-800: #ffffff;
  --gray-900: #ffffff;
  background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #2a2a2a 100%);
  color: #ffffff;
}

/* Dark Mode Navigation */
body.dark-mode .nav-container {
  background: rgba(15, 15, 15, 0.95);
}

body.dark-mode .nav-glass {
  background: rgba(15, 15, 15, 0.95);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}

body.dark-mode .logo {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

body.dark-mode .nav-links a {
  color: #ffffff;
}

body.dark-mode .nav-links a:hover {
  background: rgba(37, 99, 235, 0.2);
}

body.dark-mode .account-balance {
  background: rgba(37, 99, 235, 0.2);
  border: 1px solid rgba(37, 99, 235, 0.3);
}

/* Dark Mode Cards & Sections */
body.dark-mode .unified-card,
body.dark-mode .service-card,
body.dark-mode .feature-card,
body.dark-mode .calculator-container,
body.dark-mode .comparison-table,
body.dark-mode .faq-item,
body.dark-mode .compliance-card {
  background: rgba(26, 26, 26, 0.95);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

body.dark-mode .service-item {
  background: rgba(37, 99, 235, 0.15);
  border: 1px solid rgba(37, 99, 235, 0.2);
}

body.dark-mode .currency-info {
  background: rgba(37, 99, 235, 0.1);
}

body.dark-mode .currency-converter {
  background: rgba(37, 99, 235, 0.1);
  border: 1px solid rgba(37, 99, 235, 0.3);
}

body.dark-mode .converter-amount {
  background: rgba(42, 42, 42, 0.9);
  border: 2px solid rgba(37, 99, 235, 0.2);
}

/* Dark Mode Form Elements */
body.dark-mode .input-field,
body.dark-mode .select-field {
  background: rgba(42, 42, 42, 0.9);
  border: 2px solid rgba(255, 255, 255, 0.1);
  color: #ffffff;
}

body.dark-mode .input-field:focus,
body.dark-mode .select-field:focus {
  border-color: var(--primary);
  background: rgba(42, 42, 42, 1);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
}

body.dark-mode .input-field::placeholder {
  color: #888;
}

body.dark-mode .select-field option {
  background: #2a2a2a;
  color: #ffffff;
}

/* Dark Mode Buttons */
body.dark-mode .filter-btn {
  background: rgba(42, 42, 42, 0.9);
  border: 2px solid rgba(255, 255, 255, 0.1);
  color: #ffffff;
}

body.dark-mode .filter-btn:hover {
  border-color: var(--primary);
  background: rgba(37, 99, 235, 0.1);
}

body.dark-mode .filter-btn.active {
  background: var(--primary);
  border-color: var(--primary);
}

body.dark-mode .carousel-btn {
  background: linear-gradient(135deg, #2a2a2a, #3a3a3a);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
}

body.dark-mode .carousel-btn:hover {
  box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
}

/* Dark Mode FAQ */
body.dark-mode .faq-question {
  color: #ffffff;
}

body.dark-mode .faq-question:hover {
  background: rgba(37, 99, 235, 0.1);
}

body.dark-mode .faq-answer {
  color: #b0b0b0;
}

/* Dark Mode Floating Elements */
body.dark-mode .floating-card {
  background: rgba(26, 26, 26, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

body.dark-mode .theme-toggle {
  background: rgba(42, 42, 42, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: white;
}

body.dark-mode .theme-toggle:hover {
  background: var(--secondary);
}

body.dark-mode .scroll-to-top {
  background: linear-gradient(135deg, #2a2a2a, #3a3a3a);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

body.dark-mode .menu-toggle {
  background: linear-gradient(135deg, #2a2a2a, #3a3a3a);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

body.dark-mode .menu-item {
  background: rgba(42, 42, 42, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: #ffffff;
}

body.dark-mode .menu-item:hover {
  background: var(--primary);
}

/* Dark Mode AI Chat */
body.dark-mode .ai-chat-panel {
  background: rgba(26, 26, 26, 0.98);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
}

body.dark-mode .ai-message {
  background: rgba(37, 99, 235, 0.15);
}

body.dark-mode .user-message {
  background: rgba(5, 150, 105, 0.15);
}

body.dark-mode .ai-chat-input {
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .ai-chat-input input {
  background: rgba(42, 42, 42, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: #ffffff;
}

body.dark-mode .ai-chat-input input::placeholder {
  color: #888;
}

/* Dark Mode Toast */
body.dark-mode .toast {
  background: rgba(26, 26, 26, 0.95);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: #ffffff;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

/* Dark Mode Ticker (Enhanced) */
body.dark-mode .stats-ticker {
  background: linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #1a1a1a 100%);
  border-bottom: 2px solid #00ff88;
  box-shadow: 0 2px 20px rgba(0, 255, 136, 0.4);
}

body.dark-mode .ticker-label {
  background: linear-gradient(135deg, #00ff88, #00d4ff);
}

body.dark-mode .stat-value {
  color: #00ff88;
  text-shadow: 0 0 15px rgba(0, 255, 136, 0.8);
}

body.dark-mode .stat-icon {
  color: #00d4ff;
  text-shadow: 0 0 10px rgba(0, 212, 255, 0.8);
}

/* Dark Mode Dynamic Background */
body.dark-mode .dynamic-bg {
  background: radial-gradient(circle at 20% 50%, rgba(0, 255, 136, 0.08) 0%, transparent 50%),
              radial-gradient(circle at 80% 20%, rgba(0, 212, 255, 0.06) 0%, transparent 50%),
              radial-gradient(circle at 40% 80%, rgba(37, 99, 235, 0.04) 0%, transparent 50%),
              linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 30%, #2a2a2a 70%, #3a3a3a 100%);
}

/* Dark Mode Particles */
body.dark-mode .particle {
  background: #00ff88;
  box-shadow: 0 0 6px rgba(0, 255, 136, 0.6);
}

/* Dark Mode Mobile Navigation */
body.dark-mode .mobile-nav {
  background: rgba(15, 15, 15, 0.98);
  border-top: 2px solid rgba(0, 255, 136, 0.3);
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
}

body.dark-mode .mobile-nav-item {
  color: #ffffff;
}

body.dark-mode .mobile-nav-item:hover {
  background: rgba(37, 99, 235, 0.2);
}

/* Dark Mode Result Display */
body.dark-mode .result-display {
  background: linear-gradient(135deg, #2a2a2a, #3a3a3a);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

/* Dark Mode Comparison Rows */
body.dark-mode .comparison-row {
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .comparison-row:hover {
  background: rgba(37, 99, 235, 0.1);
}

body.dark-mode .customer-fee {
  background: rgba(37, 99, 235, 0.2);
}

body.dark-mode .business-fee {
  background: rgba(5, 150, 105, 0.2);
}

/* TOAST NOTIFICATIONS */
.toast-container {
  position: fixed;
  top: 100px;
  right: 20px;
  z-index: 1001;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.toast {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(37, 99, 235, 0.2);
  border-radius: 12px;
  padding: 1rem 1.5rem;
  box-shadow: 0 8px 32px rgba(37, 99, 235, 0.15);
  display: flex;
  align-items: center;
  gap: 0.75rem;
  min-width: 300px;
  animation: slideInRight 0.3s ease;
  position: relative;
  overflow: hidden;
}

.toast::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: var(--success);
}

.toast.error::before {
  background: var(--danger);
}

.toast.warning::before {
  background: var(--warning);
}

@keyframes slideInRight {
  0% { opacity: 0; transform: translateX(100%); }
  100% { opacity: 1; transform: translateX(0); }
}

/* ENHANCED HOVER EFFECTS */
.service-card {
  position: relative;
  overflow: hidden;
}

.service-card::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, transparent, rgba(37, 99, 235, 0.1), transparent);
  transform: rotate(45deg);
  transition: all 0.6s ease;
  opacity: 0;
}

.service-card:hover::after {
  animation: shimmer 0.6s ease;
}

@keyframes shimmer {
  0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateX(100%) translateY(100%) rotate(45deg); opacity: 0; }
}

/* FLOATING ACTION MENU */
.floating-menu {
  position: fixed;
  bottom: 100px;
  left: 20px;
  z-index: 999;
}

.menu-toggle {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, var(--warning), var(--danger));
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 1.5rem;
  cursor: pointer;
  box-shadow: 0 4px 20px rgba(217, 119, 6, 0.3);
  transition: all 0.3s ease;
}

.menu-toggle:hover {
  transform: rotate(45deg) scale(1.1);
}

.menu-items {
  position: absolute;
  bottom: 80px;
  left: 0;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.floating-menu.active .menu-items {
  opacity: 1;
  visibility: visible;
}

.menu-item {
  width: 50px;
  height: 50px;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(37, 99, 235, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--primary);
  cursor: pointer;
  transition: all 0.3s ease;
  animation: menuItemSlide 0.3s ease;
}

.menu-item:hover {
  background: var(--primary);
  color: white;
  transform: scale(1.1);
}

@keyframes menuItemSlide {
  0% { opacity: 0; transform: translateX(-20px); }
  100% { opacity: 1; transform: translateX(0); }
}

/* Dark Mode Media Queries */
@media (max-width: 768px) {
  .stats-ticker {
    font-size: 0.8rem;
  }
  
  body.dark-mode .unified-card {
    background: rgba(15, 15, 15, 0.95);
  }
  
  body.dark-mode .service-card {
    background: rgba(26, 26, 26, 0.95);
  }
  
  .theme-toggle {
    top: auto;
    bottom: 180px;
    right: 20px;
  }
  
  .toast {
    min-width: 250px;
    right: 10px;
  }
}

/* MOBILE RESPONSIVENESS */
@media (max-width: 768px) {
  .nav-links {
    display: none;
  }
  
  .hero-content {
    grid-template-columns: 1fr;
    gap: 3rem;
    text-align: center;
  }
  
  .hero-main {
    text-align: center;
  }
  
  .hero-buttons {
    justify-content: center;
  }
  
  .booth-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
  }
  
  .booth-buttons .btn {
    padding: 0.75rem 1rem;
    font-size: 0.85rem;
  }
  
  .features-grid {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .table-header,
  .table-row {
    grid-template-columns: 1fr;
    text-align: center;
  }
  
  .floating-card {
    display: none;
  }
}

/* SCROLL ANIMATIONS */
.fade-in {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.6s ease;
}

.fade-in.visible {
  opacity: 1;
  transform: translateY(0);
}

.slide-in-left {
  opacity: 0;
  transform: translateX(-50px);
  transition: all 0.6s ease;
}

.slide-in-left.visible {
  opacity: 1;
  transform: translateX(0);
}

.slide-in-right {
  opacity: 0;
  transform: translateX(50px);
  transition: all 0.6s ease;
}

.slide-in-right.visible {
  opacity: 1;
  transform: translateX(0);
}


</style>
</head>
<body>
<!-- Screen Reader Skip Links -->
<a href="#main-content" class="sr-only sr-only-focusable">Skip to main content</a>
<a href="#calculator" class="sr-only sr-only-focusable">Skip to fee calculator</a>
<a href="#navigation" class="sr-only sr-only-focusable">Skip to navigation</a>

<!-- Live Region for Screen Reader Announcements -->
<div id="sr-announcements" aria-live="polite" aria-atomic="true" class="sr-only"></div>
<div id="sr-alerts" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

<!-- PRELOADER -->
<div class="preloader" id="preloader" aria-hidden="true">
  <div class="preloader-content">
    <img src="https://images.vitalswap.com/pay-with-vitalswap/1.png" alt="VitalSwap logo" class="preloader-logo">
    <div class="preloader-text">VitalSwap</div>
    <div class="loading-bar" role="progressbar" aria-label="Loading VitalSwap application"><div class="loading-progress"></div></div>
  </div>
</div>

<!-- WELCOME MODAL -->
<div class="welcome-modal" id="welcomeModal">
  <div class="modal-content">
    <div class="modal-header">
      <img src="https://images.vitalswap.com/pay-with-vitalswap/1.png" alt="VitalSwap" class="modal-logo">
      <h2>Welcome to VitalSwap</h2>
      <p>Your Live Virtual Banking Experience</p>
    </div>
    
    <div class="modal-body">
      <div class="feature-grid">
        <div class="feature-side">
          <div class="highlight-item">
            <i class="fas fa-video"></i>
            <h3>Live Virtual Bank</h3>
            <p>Connect with professional agents via video calls for personalized banking assistance.</p>
          </div>
          
          <div class="highlight-item">
            <i class="fas fa-users"></i>
            <h3>24/7 Expert Agents</h3>
            <p>Certified professionals available across time zones for trading, transfers, and support.</p>
          </div>
        </div>
        
        <div class="permissions-side">
          <h3>Enable Full Experience</h3>
          <div class="permission-item">
            <i class="fas fa-video"></i>
            <span>Camera & Microphone for video banking</span>
          </div>
          <div class="permission-item">
            <i class="fas fa-bell"></i>
            <span>Push notifications for updates</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal-actions">
      <button class="btn btn-primary" id="enablePermissions">
        <i class="fas fa-check"></i>
        Enable Full Experience
      </button>
      <button class="btn btn-secondary" id="skipPermissions">
        Continue Without Permissions
      </button>
    </div>
    </div>
  </div>
</div>
<!-- DYNAMIC BACKGROUND -->
<div class="dynamic-bg"></div>

<!-- PARTICLE SYSTEM -->
<div class="particles" id="particles"></div>

<!-- LASER LIGHTS -->
<div class="laser-container" id="lasers"></div>

<!-- Main Content -->
<main id="main-content" role="main">

<!-- VitalSwap Services Section -->
<section class="hero" id="home" style="padding-top: 120px;" role="banner" aria-labelledby="main-heading">
  <div class="hero-content">
    <div class="unified-card fade-in">
      <div class="card-icons" role="presentation">
        <div class="card-icon fee-icon" role="presentation">
          <i class="fas fa-calculator" aria-hidden="true"></i>
        </div>
        <div class="card-icon booth-icon" role="presentation">
          <i class="fas fa-video" aria-hidden="true"></i>
        </div>
      </div>
      
      <h1 id="main-heading">VitalSwap Services</h1>
      <p>Experience transparent fees and connect with banking agents through our comprehensive platform</p>
      
      <div class="hero-badge">
        <i class="fas fa-shield-alt"></i>
        <span>Trusted by 50,000+ Traders Worldwide</span>
      </div>
      
      <div class="services-grid">
        <div class="service-item">
          <h3><i class="fas fa-calculator"></i> Transparent Fees</h3>
          <span>Crystal-clear pricing with instant fee calculation</span>
        </div>
        <div class="service-item">
          <h3><i class="fas fa-video"></i> Virtual Banking Booth</h3>
          <span>Face-to-face assistance with personal agents</span>
        </div>
      </div>
      
      <div class="hero-buttons">
        <a href="#fees" class="btn btn-primary">
          <i class="fas fa-calculator"></i> View Fees
        </a>
        <a href="my-webrtc-app/public/index.html" class="btn btn-secondary">
          <i class="fas fa-video"></i> Virtual Booth
        </a>
      </div>
    </div>
  </div>
  
  <!-- FLOATING CARDS -->
  <div class="floating-card floating-card-1">
    <div style="display: flex; align-items: center; gap: 0.5rem;">
      <i class="fas fa-chart-line" style="color: var(--success);"></i>
      <span style="font-weight: 600;">0.25% Fee</span>
    </div>
    <div style="font-size: 0.9rem; color: var(--gray-400); margin-top: 0.5rem;">Lowest in Market</div>
  </div>
  
  <div class="floating-card floating-card-2">
    <div style="display: flex; align-items: center; gap: 0.5rem;">
      <i class="fas fa-bolt" style="color: var(--warning);"></i>
      <span style="font-weight: 600;">< 3s Swaps</span>
    </div>
    <div style="font-size: 0.9rem; color: var(--gray-400); margin-top: 0.5rem;">Lightning Fast</div>
  </div>
  
  <div class="floating-card floating-card-3">
    <div style="display: flex; align-items: center; gap: 0.5rem;">
      <i class="fas fa-lock" style="color: var(--secondary);"></i>
      <span style="font-weight: 600;">100% Secure</span>
    </div>
    <div style="font-size: 0.9rem; color: var(--gray-400); margin-top: 0.5rem;">Audited Contracts</div>
  </div>
</section>

<!-- COMPARISON SECTION -->
<section class="comparison-section" id="fees">
  <div class="section-header">
    <h2>Service Fee Comparison</h2>
    <p>Compare fees across different services and account types. All prices are transparent with no hidden charges.</p>
  </div>
  
  <!-- Filter Controls -->
  <div class="comparison-controls">
    <button class="filter-btn active" data-filter="all">
      <i class="fas fa-th-large"></i>
      All Services
    </button>
    <button class="filter-btn" data-filter="cards">
      <i class="fas fa-credit-card"></i>
      Virtual Cards
    </button>
    <button class="filter-btn" data-filter="transfers">
      <i class="fas fa-exchange-alt"></i>
      Transfers
    </button>
    <button class="filter-btn" data-filter="fx">
      <i class="fas fa-coins"></i>
      FX Trading
    </button>
    <button class="filter-btn" data-filter="accounts">
      <i class="fas fa-university"></i>
      Bank Accounts
    </button>
  </div>
  
  <!-- Service Cards Carousel -->
  <div class="carousel-container">
    <div class="carousel-wrapper" id="carouselWrapper">
      <div class="comparison-grid" id="servicesGrid">
        <!-- Cards will be dynamically generated -->
      </div>
    </div>
    
    <div class="carousel-nav">
      <button class="carousel-btn" id="prevBtn">
        <i class="fas fa-chevron-left"></i>
      </button>
      
      <div class="carousel-dots" id="carouselDots">
        <!-- Dots will be dynamically generated -->
      </div>
      
      <button class="carousel-btn" id="nextBtn">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>
  
  <!-- Side-by-Side Comparison Table -->
  <div class="comparison-table">
    <div class="table-header" style="display: flex; justify-content: space-between; align-items: center;">
      <div>
        <h3>Customer vs Business Account Comparison</h3>
        <p style="font-size: small; text-align: start;">Key differences in pricing between account types</p>
      </div>
      <input type="text" id="feeSearch" placeholder="Search fees..." class="fee-search">
    </div>
    <div class="table-content" id="comparisonTable">
      <!-- Comparison rows will be dynamically generated -->
    </div>
  </div>
  
  <!-- Currency Information -->
  <div class="currency-info">
    <h3>Currency Exchange Information</h3>
    <p>Current exchange rates and FX trading spreads</p>
    <div class="currency-rates">
      <div class="rate-item">
        <span class="currency">₦</span>
        <div class="label">Nigerian Naira</div>
      </div>
      <div class="rate-item">
        <span class="currency">⇄</span>
        <div class="label">10-15 Points Spread</div>
      </div>
      <div class="rate-item">
        <span class="currency">$</span>
        <div class="label">US Dollar</div>
      </div>
    </div>
  </div>
</section>

<script>
// Global variables for live data
let feeData = {};
let exchangeRates = {};

// Screen Reader Announcement Functions
function announceToScreenReader(message, priority = 'polite') {
  const announcer = document.getElementById(priority === 'assertive' ? 'sr-alerts' : 'sr-announcements');
  if (announcer) {
    announcer.textContent = message;
    setTimeout(() => {
      announcer.textContent = '';
    }, 1000);
  }
}

function announceCalculationResult(service, fee, total, currency) {
  const message = `Fee calculated for ${service}. Fee amount: ${fee}. Total: ${total} ${currency}.`;
  announceToScreenReader(message, 'polite');
}

function announceError(error) {
  announceToScreenReader(`Error: ${error}`, 'assertive');
}

function announceLoading(message) {
  announceToScreenReader(message, 'polite');
}

// API Functions
async function fetchFeeData() {
  try {
    const response = await fetch('https://2kbbumlxz3.execute-api.us-east-1.amazonaws.com/default/fee');
    const data = await response.json();
    console.log('✅ SUCCESS: Live fee data loaded from API:', data);
    return data;
  } catch (error) {
    console.error('Failed to fetch fee data:', error);
    return getStaticFeeData();
  }
}

async function fetchExchangeRate() {
  try {
    const response = await fetch('https://2kbbumlxz3.execute-api.us-east-1.amazonaws.com/default/exchange?from=NGN&to=USD');
    const data = await response.json();
    if (data.error) {
      console.warn('Exchange API limitation:', data.error);
      return getStaticExchangeRates();
    }
    console.log('✅ SUCCESS: Live exchange rates loaded from API:', data);
    return data;
  } catch (error) {
    console.error('Failed to fetch exchange rates:', error);
    return getStaticExchangeRates();
  }
}

// Static fallback data
function getStaticFeeData() {
  console.log('🔄 FALLBACK: Using static fee data (API failed)');
  return {
  "Customer": {
    "US Virtual Bank Account": [
      { "Service": "Individual Account Issue", "Fee": "FREE", "Description": "" },
      { "Service": "ACH Deposit Fee", "Fee": "FREE", "Description": "" },
      { "Service": "Wire Deposit Fee", "Fee": "$15", "Description": "" },
      { "Service": "Fraud Reversal", "Fee": "$100", "Description": "" },
      { "Service": "3rd Party Requiring Extra Diligence", "Fee": "3%", "Description": "" }
    ],
    "NG Virtual Bank Account": [
      { "Service": "NGN Wallet Funding", "Fee": "₦200", "Description": "" },
      { "Service": "Fraud Reversal", "Fee": "₦1,000", "Description": "" },
      { "Service": "3rd Party Requiring Extra Diligence", "Fee": "3%", "Description": "" }
    ],
    "Payout": [
      { "Service": "NGN Payout - Instant", "Fee": "FREE", "Description": "" },
      { "Service": "USD Payout - 2-5 days", "Fee": "FREE", "Description": "" },
      { "Service": "USD Payout - 24hours", "Fee": "$10", "Description": "" }
    ],
    "Wallet to Wallet Transfer": [
      { "Service": "NGN Individual → Individual", "Fee": "FREE", "Description": "" },
      { "Service": "NGN Individual → Business", "Fee": "3%", "Description": "" }
    ],
    "Freedom Virtual Card": [
      { "Service": "Create Card", "Fee": "$1", "Description": "" },
      { "Service": "Fund Card", "Fee": "$0.50", "Description": "" },
      { "Service": "Transaction Fee", "Fee": "1.5% ($1 – $5)", "Description": "" },
      { "Service": "FX Fee (outside US)", "Fee": "1.5%", "Description": "" },
      { "Service": "Monthly Maintenance Fee", "Fee": "$1", "Description": "" },
      { "Service": "Defund Card", "Fee": "FREE", "Description": "" },
      { "Service": "Close Card", "Fee": "FREE", "Description": "" }
    ],
    "FX": [
      { "Service": "Create NGN Offer", "Fee": "FREE", "Description": "" },
      { "Service": "Buy NGN Offer", "Fee": "FREE", "Description": "We always put 10–15 points on all offers in the market" },
      { "Service": "Create USD Offer", "Fee": "FREE", "Description": "" },
      { "Service": "Buy USD Offer", "Fee": "FREE", "Description": "We always put 10–15 points on all offers in the market" }
    ]
  },
  "Business": {
    "US Virtual Bank Account": [
      { "Service": "Business Account Issue", "Fee": "FREE", "Description": "" },
      { "Service": "ACH Deposit Fee", "Fee": "FREE", "Description": "" },
      { "Service": "Wire Deposit Fee", "Fee": "$15", "Description": "" },
      { "Service": "Fraud Reversal", "Fee": "$100", "Description": "" },
      { "Service": "3rd Party Requiring Extra Diligence", "Fee": "3%", "Description": "" }
    ],
    "NG Virtual Bank Account": [
      { "Service": "NGN Wallet Funding", "Fee": "₦200", "Description": "" },
      { "Service": "Fraud Reversal", "Fee": "₦1,000", "Description": "" },
      { "Service": "3rd Party Requiring Extra Diligence", "Fee": "3%", "Description": "" }
    ],
    "Business Collections": [
      { "Service": "NGN Settlement", "Fee": "₦200", "Description": "Per transaction" },
      { "Service": "USD Settlement", "Fee": "2% ($1–$2)", "Description": "2% capped at $2, Min $1" }
    ],
    "Business Payout": [
      { "Service": "NGN Payout - Instant", "Fee": "FREE", "Description": "" },
      { "Service": "USD Payout - 2-5 days", "Fee": "FREE", "Description": "" },
      { "Service": "USD Payout - 24hours", "Fee": "$10", "Description": "" }
    ],
    "Wallet to Wallet Transfer": [
      { "Service": "NGN Individual → Business", "Fee": "2%", "Description": "" }
    ],
    "FX": [
      { "Service": "Create NGN Offer", "Fee": "FREE", "Description": "" },
      { "Service": "Buy NGN Offer", "Fee": "FREE", "Description": "We always put 10 points on all offers in the market" },
      { "Service": "Create USD Offer", "Fee": "FREE", "Description": "" },
      { "Service": "Buy USD Offer", "Fee": "FREE", "Description": "We always put 10 points on all offers in the market" }
    ]
  }
};
}

function getStaticExchangeRates() {
  console.log('🔄 FALLBACK: Using static exchange rates (API failed)');
  return {
    'USD': { rate: 1, symbol: '$', name: 'US Dollar' },
    'NGN': { rate: 1600, symbol: '₦', name: 'Nigerian Naira' }
  };
}

// Service category mapping
const categoryMapping = {
  'Freedom Virtual Card': 'cards',
  'Payout': 'transfers',
  'Business Payout': 'transfers',
  'Wallet to Wallet Transfer': 'transfers',
  'Business Collections': 'transfers',
  'FX': 'fx',
  'US Virtual Bank Account': 'accounts',
  'NG Virtual Bank Account': 'accounts'
};



// Service icons mapping
const serviceIcons = {
  'Freedom Virtual Card': 'fas fa-credit-card',
  'Payout': 'fas fa-money-bill-wave',
  'Business Payout': 'fas fa-building',
  'Wallet to Wallet Transfer': 'fas fa-exchange-alt',
  'Business Collections': 'fas fa-cash-register',
  'FX': 'fas fa-coins',
  'US Virtual Bank Account': 'fas fa-university',
  'NG Virtual Bank Account': 'fas fa-landmark'
};

// Generate service cards
function generateServiceCards() {
  const grid = document.getElementById('servicesGrid');
  const allServices = new Set();
  
  Object.keys(feeData).forEach(accountType => {
    Object.keys(feeData[accountType]).forEach(serviceCategory => {
      allServices.add(serviceCategory);
    });
  });
  
  const servicesArray = Array.from(allServices);
  
  // Create 3 sets for infinite loop
  for (let i = 0; i < 3; i++) {
    servicesArray.forEach(serviceCategory => {
      const card = createServiceCard(serviceCategory);
      grid.appendChild(card);
    });
  }
}

function createServiceCard(serviceCategory) {
  const card = document.createElement('div');
  const category = categoryMapping[serviceCategory] || 'other';
  const isPopular = serviceCategory === 'Freedom Virtual Card';
  
  card.className = `service-card ${isPopular ? 'highlight-card' : ''}`;
  card.setAttribute('data-category', category);
  
  const customerFees = feeData.Customer[serviceCategory] || [];
  const businessFees = feeData.Business[serviceCategory] || [];
  const allFees = [...customerFees, ...businessFees];
  
  const uniqueFees = allFees.filter((fee, index, self) => 
    index === self.findIndex(f => f.Service === fee.Service)
  );
  
  card.innerHTML = `
    <div class="service-header">
      <div class="service-icon">
        <i class="${serviceIcons[serviceCategory] || 'fas fa-cog'}"></i>
      </div>
      <div class="service-title">
        <h3>${serviceCategory}</h3>
        <div class="category">${category.toUpperCase()}</div>
      </div>
    </div>
    <ul class="fee-list">
      ${uniqueFees.map(fee => `
        <li class="fee-item">
          <span class="fee-name">${fee.Service}</span>
          <span class="fee-amount ${getFeeClass(fee.Fee)}">${fee.Fee}</span>
        </li>
      `).join('')}
    </ul>
  `;
  
  return card;
}

function getFeeClass(fee) {
  if (fee === 'FREE') return 'free';
  if (fee.includes('%')) return 'percentage';
  return '';
}

let allComparisonServices = [];

function generateComparisonTable() {
  const table = document.getElementById('comparisonTable');
  allComparisonServices = [];
  
  Object.keys(feeData.Customer).forEach(serviceCategory => {
    if (feeData.Business[serviceCategory]) {
      const customerServices = feeData.Customer[serviceCategory];
      const businessServices = feeData.Business[serviceCategory];
      
      customerServices.forEach(customerService => {
        const businessService = businessServices.find(bs => bs.Service === customerService.Service);
        if (businessService) {
          allComparisonServices.push({
            service: customerService.Service,
            category: serviceCategory,
            customerFee: customerService.Fee,
            businessFee: businessService.Fee
          });
        }
      });
    }
  });
  
  renderComparisonTable(allComparisonServices);
  setupFeeSearch();
}

function renderComparisonTable(services) {
  const table = document.getElementById('comparisonTable');
  table.innerHTML = `
    <div class="comparison-row" style="font-weight: 700; background: rgba(37, 99, 235, 0.05);">
      <div class="service-name">Service</div>
      <div class="customer-fee">Customer</div>
      <div class="business-fee">Business</div>
    </div>
    ${services.map(service => `
      <div class="comparison-row">
        <div class="service-name">${service.service}</div>
        <div class="customer-fee">${service.customerFee}</div>
        <div class="business-fee">${service.businessFee}</div>
      </div>
    `).join('')}
  `;
}

function setupFeeSearch() {
  const searchInput = document.getElementById('feeSearch');
  if (!searchInput) return;
  
  searchInput.addEventListener('input', (e) => {
    const query = e.target.value.toLowerCase();
    const filteredServices = allComparisonServices.filter(service => 
      service.service.toLowerCase().includes(query) ||
      service.category.toLowerCase().includes(query)
    );
    renderComparisonTable(filteredServices);
  });
}

// Automation integration
console.log('🤖 Initializing automation features...');
setInterval(async () => {
  try {
    console.log('📡 Fetching fee updates from /api/fee-updates');
    const response = await fetch('/api/fee-updates');
    const updates = await response.json();
    console.log('✅ Fee updates received:', updates);
    if (updates.changes?.length) {
      updates.changes.forEach(change => {
        const elements = document.querySelectorAll('.fee-amount');
        elements.forEach(el => {
          if (el.previousElementSibling?.textContent === change.field) {
            console.log('💰 Updating fee:', change.field, 'to', change.newValue);
            el.textContent = change.newValue;
            el.style.background = '#10b981';
            el.style.color = 'white';
            setTimeout(() => {
              el.style.background = '';
              el.style.color = '';
            }, 2000);
          }
        });
      });
    }
  } catch (e) {
    console.error('❌ Fee updates failed:', e);
  }
}, 300000);

// Analytics tracking
console.log('📊 Analytics tracking initialized');
document.addEventListener('click', (e) => {
  if (e.target.closest('.fee-amount, .service-card, .filter-btn')) {
    console.log('🖱️ Tracking click:', e.target.className);
    fetch('/api/analytics/track', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        event: 'click',
        element: e.target.className,
        timestamp: Date.now()
      })
    }).then(() => {
      console.log('✅ Analytics data sent');
    }).catch((err) => {
      console.error('❌ Analytics failed:', err);
    });
  }
});

// Automation Features CSS
const automationStyles = `
.fee-notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #2563eb;
  color: white;
  padding: 12px 16px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  z-index: 1000;
  animation: slideIn 0.3s ease;
}

.fee-updated {
  background: #10b981 !important;
  color: white !important;
  animation: pulse 1s ease;
}

@keyframes slideIn {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}
`;

// Add automation styles
const styleSheet = document.createElement('style');
styleSheet.textContent = automationStyles;
document.head.appendChild(styleSheet);

// Initialize automation when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initializeAutomation);
} else {
  initializeAutomation();
}

async function initializeAutomation() {
  console.log('🚀 Starting automation initialization...');
  
  // Show welcome modal for new devices
  showWelcomeModal();
  
  // Setup modal event listeners
  document.getElementById('enablePermissions').addEventListener('click', enableFullExperience);
  document.getElementById('skipPermissions').addEventListener('click', skipPermissions);
  
  // Setup push notifications for returning users
  const hasVisited = localStorage.getItem('vitalswap-visited');
  if (hasVisited) {
    await loadExistingSubscription();
    // Check for hourly welcome notification
    checkHourlyWelcome();
  }
  
  // Setup real-time updates simulation
  setTimeout(() => {
    console.log('⚡ Starting real-time updates simulation');
    simulateRealTimeUpdates();
  }, 2000);
  console.log('✅ Automation initialization complete');
}

// VAPID Push Notifications
async function setupPushNotifications() {
  if ('serviceWorker' in navigator && 'PushManager' in window) {
    try {
      const registration = await navigator.serviceWorker.register('/sw.js');
      console.log('🔔 Service Worker registered for notifications');
      
      // Listen for messages from service worker
      navigator.serviceWorker.addEventListener('message', (event) => {
        if (event.data.type === 'PUSH_RECEIVED') {
          showToast(`🔔 ${event.data.message}`, 'info');
        }
      });
      
      const permission = await Notification.requestPermission();
      if (permission === 'granted') {
        console.log('✅ Notification permission granted');
        
        try {
          // Subscribe to push notifications
          console.log('🔍 Creating push subscription...');
          const subscription = await registration.pushManager.subscribe({
            userVisibleOnly: true,
            applicationServerKey: urlBase64ToUint8Array('BPYemdkfAbiUyQD_QAqqbnBdfriodCmWfj5Arct8U0IWyahDQ9R44JNzXc96MhX3LEN_RGnz7yUNdpVw8MzZV68')
          });
          console.log('✅ Push subscription object created:', subscription);
          
          // Store subscription in localStorage
          localStorage.setItem('push-subscription', JSON.stringify(subscription));
          console.log('💾 Subscription saved to localStorage');
          
          // Send subscription to server with welcome flag
          const response = await fetch('/api/notifications/subscribe', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ subscription, sendWelcome: true })
          });
          const result = await response.json();
          console.log('📤 Subscription sent to server:', result);
          
          console.log('🔔 Push subscription created and stored');
        } catch (subError) {
          console.error('❌ Push subscription failed:', subError);
          showToast('Push subscription failed: ' + subError.message, 'error');
        }
      } else {
        console.log('❌ Push notifications blocked');
      }
    } catch (error) {
      console.error('❌ Notification setup failed:', error);
    }
  }
}

// Welcome Modal for New Devices
function showWelcomeModal() {
  const hasVisited = localStorage.getItem('vitalswap-visited');
  if (!hasVisited) {
    const modal = document.getElementById('welcomeModal');
    console.log('🎉 Showing welcome modal');
    setTimeout(() => {
      modal.classList.add('active');
      console.log('✅ Welcome modal activated');
      setupMobileSwipeGesture(modal);
    }, 1000);
  } else {
    console.log('ℹ️ User has already visited, skipping modal');
  }
}

// Mobile swipe gesture for modal
function setupMobileSwipeGesture(modal) {
  if (window.innerWidth <= 768) {
    const modalContent = modal.querySelector('.modal-content');
    let startY = 0;
    let currentY = 0;
    let isDragging = false;
    
    modalContent.addEventListener('touchstart', (e) => {
      startY = e.touches[0].clientY;
      isDragging = true;
    });
    
    modalContent.addEventListener('touchmove', (e) => {
      if (!isDragging) return;
      currentY = e.touches[0].clientY;
      const deltaY = currentY - startY;
      
      if (deltaY > 0) {
        modalContent.style.transform = `translateY(${deltaY}px)`;
      }
    });
    
    modalContent.addEventListener('touchend', () => {
      if (!isDragging) return;
      isDragging = false;
      
      const deltaY = currentY - startY;
      if (deltaY > 100) {
        // Close modal if swiped down more than 100px
        modal.classList.remove('active');
        localStorage.setItem('vitalswap-visited', 'true');
      } else {
        // Snap back to original position
        modalContent.style.transform = 'translateY(0)';
      }
    });
  }
}

async function enableFullExperience() {
  console.log('🚀 Enabling full experience...');
  
  try {
    // Request camera and microphone permissions
    const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
    console.log('📹 Camera and microphone access granted');
    stream.getTracks().forEach(track => track.stop()); // Stop the stream
    
    // Setup push notifications
    await setupPushNotifications();
    
    // Mark as visited
    localStorage.setItem('vitalswap-visited', 'true');
    
    // Close modal
    document.getElementById('welcomeModal').classList.remove('active');
    
    showToast('Full experience enabled! You can now use video banking and receive notifications.', 'success');
  } catch (error) {
    console.error('❌ Permission request failed:', error);
    showToast('Some permissions were denied. You can enable them later in browser settings.', 'warning');
    skipPermissions();
  }
}

function skipPermissions() {
  const confirmed = confirm('Are you sure you want to skip? You\'ll miss out on:\n\n• Real-time fee update notifications\n• Instant video banking with live agents\n• Personalized trading alerts\n\nThis would significantly ease your customer experience. Skip anyway?');
  
  if (confirmed) {
    localStorage.setItem('vitalswap-visited', 'true');
    document.getElementById('welcomeModal').classList.remove('active');
    showToast('You can enable permissions anytime from browser settings.', 'warning');
  }
  // If not confirmed, modal stays open
}

// Load existing subscription from localStorage
async function loadExistingSubscription() {
  const savedSubscription = localStorage.getItem('push-subscription');
  if (savedSubscription) {
    try {
      const subscription = JSON.parse(savedSubscription);
      console.log('💾 Loaded subscription from localStorage');
      
      // Re-register with server (no welcome notification)
      await fetch('/api/notifications/subscribe', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ subscription, sendWelcome: false })
      });
      console.log('✅ Existing subscription re-registered');
    } catch (error) {
      console.error('❌ Failed to load subscription:', error);
      localStorage.removeItem('push-subscription');
    }
  } else {
    console.log('🔍 No existing subscription found');
  }
}

// Check for hourly welcome notification
function checkHourlyWelcome() {
  const lastWelcome = localStorage.getItem('last-welcome-hour');
  const currentHour = new Date().getHours();
  const today = new Date().toDateString();
  const lastWelcomeData = lastWelcome ? JSON.parse(lastWelcome) : null;
  
  // Send welcome if it's a new hour or new day
  if (!lastWelcomeData || 
      lastWelcomeData.date !== today || 
      lastWelcomeData.hour !== currentHour) {
    
    console.log('🌅 Sending hourly welcome notification');
    setTimeout(() => {
      triggerPushNotification('Team AlgoNauts welcomes You to VitalSwap\'s fee page');
    }, 3000);
    
    // Store current hour and date
    localStorage.setItem('last-welcome-hour', JSON.stringify({
      hour: currentHour,
      date: today
    }));
  } else {
    console.log('🕰️ Welcome already sent this hour');
  }
}

function urlBase64ToUint8Array(base64String) {
  const padding = '='.repeat((4 - base64String.length % 4) % 4);
  const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');
  const rawData = window.atob(base64);
  const outputArray = new Uint8Array(rawData.length);
  for (let i = 0; i < rawData.length; ++i) {
    outputArray[i] = rawData.charCodeAt(i);
  }
  return outputArray;
}

// Trigger push notification
async function triggerPushNotification(message) {
  try {
    await fetch('/api/notifications/send', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ message })
    });
    console.log('🔔 Push notification triggered');
  } catch (error) {
    console.error('❌ Push notification failed:', error);
  }
}

function simulateRealTimeUpdates() {
  const services = ['Create Card', 'Fund Card', 'NGN Payout - Instant'];
  const fees = ['$1.50', '$0.75', 'FREE'];
  
  setInterval(() => {
    const randomService = services[Math.floor(Math.random() * services.length)];
    const randomFee = fees[Math.floor(Math.random() * fees.length)];
    
    // Simulate fee update
    const feeElements = document.querySelectorAll('.fee-amount');
    const targetElement = Array.from(feeElements).find(el => 
      el.parentElement.querySelector('.fee-name')?.textContent === randomService
    );
    
    if (targetElement) {
      targetElement.textContent = randomFee;
      targetElement.classList.add('fee-updated');
      setTimeout(() => targetElement.classList.remove('fee-updated'), 2000);
      
      // Show notification
      showUpdateNotification(randomService, randomFee);
      
      // Trigger push notification
      triggerPushNotification(`${randomService} fee updated to ${randomFee}`);
    }
  }, 30000); // Update every 30 seconds for demo
}

function showUpdateNotification(service, fee) {
  const notification = document.createElement('div');
  notification.className = 'fee-notification';
  notification.innerHTML = `
    <i class="fas fa-bell"></i>
    <span>${service} fee updated to ${fee}</span>
  `;
  document.body.appendChild(notification);
  setTimeout(() => notification.remove(), 5000);
}



</script>

<!-- DYNAMIC BACKGROUND -->
<div class="dynamic-bg"></div>

<!-- PARTICLES -->
<div class="particles" id="particles"></div>

<!-- LASER LIGHTS -->
<div class="laser-container" id="lasers"></div>

<!-- NAVIGATION -->
<header class="nav-container" id="navigation" role="banner">
  <nav role="navigation" aria-label="Main navigation">
    <div class="nav-content">
      <div style="display: flex; align-items: center; gap: 1rem;">
        <div class="logo">
          <img src="https://images.vitalswap.com/pay-with-vitalswap/1.png" alt="VitalSwap company logo">
          VitalSwap
        </div>
      </div>
      <div class="nav-right">
        <div class="account-balance desktop-balance" role="status" aria-label="Account balance">
          <i class="fas fa-wallet" aria-hidden="true"></i>
          <span>$0.00</span>
        </div>
        <ul class="nav-links" role="menubar">
          <li role="none"><a href="#calculator" role="menuitem">Fee Calculator</a></li>
          <li role="none"><a href="#fees" role="menuitem">Fee Comparison</a></li>
          <li role="none"><a href="#faq" role="menuitem">FAQ</a></li>
          <li role="none"><a href="#contact" role="menuitem">Contact Us</a></li>
          <li role="none"><a href="my-webrtc-app/public/index.html" class="nav-booth-link" role="menuitem">
            <i class="fas fa-video" aria-hidden="true"></i> Virtual Booth
          </a></li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<!-- MOBILE NAVIGATION -->
<div class="mobile-nav">
  <a href="#calculator" class="mobile-nav-item">
    <i class="fas fa-calculator"></i>
    <span>Calculator</span>
  </a>
  <a href="#fees" class="mobile-nav-item">
    <i class="fas fa-chart-bar"></i>
    <span>Comparison</span>
  </a>
  <a href="#faq" class="mobile-nav-item">
    <i class="fas fa-question-circle"></i>
    <span>FAQ</span>
  </a>
  <a href="#contact" class="mobile-nav-item">
    <i class="fas fa-envelope"></i>
    <span>Contact</span>
  </a>
  <a href="my-webrtc-app/public/index.html" class="mobile-nav-item">
    <i class="fas fa-video"></i>
    <span>Virtual Booth</span>
  </a>
</div>





<!-- FEE CALCULATOR -->
<section class="calculator" id="calculator" role="region" aria-labelledby="calculator-heading">
  <div class="container">
    <div class="calculator-container fade-in">
      <h2 id="calculator-heading" class="calculator-title">Fee Calculator</h2>
      <p class="calculator-subtitle">Calculate fees for any VitalSwap service</p>
      
      <form role="form" aria-label="Fee calculation form">
        <fieldset>
          <legend class="sr-only">Account and Service Selection</legend>
          <div class="calculator-grid">
            <div class="input-group">
              <label for="accountType" class="sr-only">Account Type</label>
              <select class="select-field" id="accountType" aria-label="Select your account type" aria-describedby="account-help" required>
                <option value="Customer">Customer Account</option>
                <option value="Business">Business Account</option>
              </select>
              <div id="account-help" class="sr-only">Choose between Customer or Business account for different fee structures</div>
            </div>
            <div class="input-group">
              <label for="serviceType" class="sr-only">Service Type</label>
              <select class="select-field" id="serviceType" aria-label="Select service type" aria-describedby="service-help" required>
                <option value="">Select Service</option>
              </select>
              <div id="service-help" class="sr-only">Choose the VitalSwap service you want to calculate fees for</div>
            </div>
          </div>
        </fieldset>
      
        <fieldset>
          <legend class="sr-only">Specific Service and Amount</legend>
          <div class="input-group">
            <label for="specificService" class="sr-only">Specific Service</label>
            <select class="select-field" id="specificService" aria-label="Select specific service to calculate fees for" aria-describedby="specific-help" required>
              <option value="">Select Specific Fee</option>
            </select>
            <div id="specific-help" class="sr-only">Choose the exact service within your selected category</div>
          </div>
          
          <div class="calculator-grid">
            <div class="input-group">
              <label for="tradeAmount" class="sr-only">Transaction Amount</label>
              <input type="number" class="input-field" id="tradeAmount" placeholder="Enter amount" min="0" step="0.01" list="recentAmounts" aria-label="Enter transaction amount in numbers only" aria-describedby="amountError amount-help" required>
              <datalist id="recentAmounts"></datalist>
              <div id="amount-help" class="sr-only">Enter the amount you want to calculate fees for. Use numbers only, no currency symbols.</div>
              <div class="error-message" id="amountError" style="display: none;" role="alert"></div>
            </div>
            <div class="input-group">
              <label for="currency" class="sr-only">Currency</label>
              <select class="select-field" id="currency" aria-label="Select currency for your transaction" aria-describedby="currency-help">
                <option value="USD">USD - US Dollar</option>
                <option value="NGN">NGN - Nigerian Naira</option>
              </select>
              <div id="currency-help" class="sr-only">Choose USD for US Dollars or NGN for Nigerian Naira</div>
            </div>
          </div>
        </fieldset>
      
        <fieldset>
          <legend class="sr-only">Currency Conversion</legend>
          <div class="currency-converter" id="currencyConverter" style="display: none;" role="region" aria-labelledby="converter-heading">
            <h3 id="converter-heading" class="sr-only">Currency Conversion Result</h3>
            <div class="converter-row">
              <div class="converter-amount" id="convertedAmount" role="status" aria-live="polite" aria-label="Converted amount">0.00</div>
              <label for="targetCurrency" class="sr-only">Target Currency for Conversion</label>
              <select class="select-field" id="targetCurrency" aria-label="Select target currency for conversion" aria-describedby="target-help">
                <option value="USD">USD - US Dollar</option>
                <option value="NGN">NGN - Nigerian Naira</option>
              </select>
              <div id="target-help" class="sr-only">Choose the currency to convert your amount to</div>
            </div>
          </div>
        </fieldset>
        
        <!-- Fee Inclusion Toggle -->
        <fieldset style="margin: 1.5rem 0;">
          <legend>Fee Calculation Method</legend>
          <div style="display: flex; justify-content: center; align-items: center; gap: 1rem; flex-wrap: wrap;">
            <label style="display: flex; align-items: center; gap: 0.5rem; font-weight: 500; color: var(--dark);">
              <input type="radio" name="feeOption" value="exclude" checked style="margin: 0;" aria-describedby="exclude-help">
              <span>Amount excluding fees</span>
              <div id="exclude-help" class="sr-only">Enter the amount you want to send or deposit. Fees will be added on top of this amount.</div>
            </label>
            <label style="display: flex; align-items: center; gap: 0.5rem; font-weight: 500; color: var(--dark);">
              <input type="radio" name="feeOption" value="include" style="margin: 0;" aria-describedby="include-help">
              <span>Amount including fees</span>
              <div id="include-help" class="sr-only">Enter the total amount you're willing to pay. Fees will be deducted from this amount.</div>
            </label>
          </div>
        </fieldset>
      </form>
      
      <div class="result-display" id="feeResult" role="status" aria-live="polite" aria-label="Fee calculation result">
        <span>Enter amount to see fees</span>
      </div>
      
      <section role="region" aria-labelledby="fee-breakdown-heading" style="margin-top: 2rem;">
        <h3 id="fee-breakdown-heading" class="sr-only">Fee Calculation Breakdown</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; text-align: center;">
          <div style="background: rgba(255, 255, 255, 0.1); padding: 1rem; border-radius: 10px;" role="group" aria-labelledby="fee-amount-label">
            <div id="fee-amount-label" style="font-size: 0.9rem; color: var(--gray-400);">Fee Amount</div>
            <div style="font-weight: 700; color: var(--success);" id="networkFee" role="status" aria-live="polite">$0.00</div>
          </div>
          <div style="background: rgba(255, 255, 255, 0.1); padding: 1rem; border-radius: 10px;" role="group" aria-labelledby="service-label">
            <div id="service-label" style="font-size: 0.9rem; color: var(--gray-400);">Service</div>
            <div style="font-weight: 700; color: var(--secondary); font-size: 0.8rem;" id="platformFee" role="status" aria-live="polite">Select Service</div>
          </div>
          <div style="background: rgba(255, 255, 255, 0.1); padding: 1rem; border-radius: 10px;" role="group" aria-labelledby="total-label">
            <div style="font-size: 0.9rem; color: var(--gray-400);" id="totalLabel">You Pay/Receive</div>
            <div style="font-weight: 700; color: var(--accent);" id="totalFee" role="status" aria-live="polite">$0.00</div>
          </div>
        </div>
      </section>
    </div>
  </div>
</section>

<!-- FEATURES SECTION -->
<section class="features" id="features">
  <div class="container">
    <div class="section-header fade-in">
      <h2 class="section-title">Why Choose VitalSwap?</h2>
      <p class="section-subtitle">Revolutionary features that set us apart from traditional exchanges</p>
    </div>
    
    <div class="features-grid">
      <div class="feature-card slide-in-left">
        <div class="feature-icon">
          <i class="fas fa-eye"></i>
        </div>
        <h3 class="feature-title">Complete Transparency</h3>
        <p class="feature-description">Every fee is calculated in real-time and displayed before you confirm. No hidden charges, no surprises - just honest, transparent pricing.</p>
      </div>
      
      <div class="feature-card fade-in">
        <div class="feature-icon">
          <i class="fas fa-rocket"></i>
        </div>
        <h3 class="feature-title">Lightning Speed</h3>
        <p class="feature-description">Execute swaps in under 3 seconds with our optimized smart contracts and advanced routing algorithms.</p>
      </div>
      
      <div class="feature-card slide-in-right">
        <div class="feature-icon">
          <i class="fas fa-shield-alt"></i>
        </div>
        <h3 class="feature-title">Bank-Grade Security</h3>
        <p class="feature-description">Multi-audited smart contracts, insurance coverage, and advanced security protocols protect your assets 24/7.</p>
      </div>
      
      <div class="feature-card slide-in-left">
        <div class="feature-icon">
          <i class="fas fa-chart-bar"></i>
        </div>
        <h3 class="feature-title">Best Rates Guaranteed</h3>
        <p class="feature-description">Our intelligent routing finds the best prices across multiple liquidity sources, ensuring you get maximum value.</p>
      </div>
      
      <div class="feature-card fade-in">
        <div class="feature-icon">
          <i class="fas fa-users"></i>
        </div>
        <h3 class="feature-title">Community Driven</h3>
        <p class="feature-description">Governance token holders vote on fee structures and platform improvements, ensuring fair and democratic decision-making.</p>
      </div>
      
      <div class="feature-card slide-in-right">
        <div class="feature-icon">
          <i class="fas fa-mobile-alt"></i>
        </div>
        <h3 class="feature-title">Mobile Optimized</h3>
        <p class="feature-description">Trade seamlessly across all devices with our responsive design and native mobile applications.</p>
      </div>
    </div>
  </div>
</section>

<!-- FAQ SECTION -->
<section class="faq" id="faq" role="region" aria-labelledby="faq-heading">
  <div class="container">
    <div class="section-header fade-in">
      <h2 id="faq-heading" class="section-title">Frequently Asked Questions</h2>
      <p class="section-subtitle">Everything you need to know about VitalSwap fees</p>
    </div>
    
    <div class="faq-layout">
      <div class="faq-container">
        <div class="faq-item fade-in">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-1" id="faq-question-1">
            <span>Why does VitalSwap charge fees?</span>
            <i class="fas fa-chevron-down faq-icon" aria-hidden="true"></i>
          </button>
          <div class="faq-answer" id="faq-answer-1" aria-labelledby="faq-question-1" role="region">
            Fees support our infrastructure, liquidity providers, and continuous platform development. Unlike traditional exchanges, our fees are transparent and go directly toward improving your trading experience.
          </div>
        </div>
        
        <div class="faq-item fade-in">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-2" id="faq-question-2">
            <span>How are fees calculated?</span>
            <i class="fas fa-chevron-down faq-icon" aria-hidden="true"></i>
          </button>
          <div class="faq-answer" id="faq-answer-2" aria-labelledby="faq-question-2" role="region">
            Fees are calculated as a percentage of your trade amount plus network gas fees. Our smart contracts automatically calculate the exact fee before you confirm any transaction.
          </div>
        </div>
        
        <div class="faq-item fade-in">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-3" id="faq-question-3">
            <span>Are there any hidden fees?</span>
            <i class="fas fa-chevron-down faq-icon" aria-hidden="true"></i>
          </button>
          <div class="faq-answer" id="faq-answer-3" aria-labelledby="faq-question-3" role="region">
            Absolutely not. Every fee is displayed upfront before you confirm your transaction. What you see is exactly what you pay - no surprises, no hidden charges.
          </div>
        </div>
        
        <div class="faq-item fade-in">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-4" id="faq-question-4">
            <span>How often do fees change?</span>
            <i class="fas fa-chevron-down faq-icon" aria-hidden="true"></i>
          </button>
          <div class="faq-answer" id="faq-answer-4" aria-labelledby="faq-question-4" role="region">
            Fee structures are reviewed quarterly by our community governance. Any changes require a community vote and are announced at least 30 days in advance.
          </div>
        </div>
        
        <div class="faq-item fade-in">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-5" id="faq-question-5">
            <span>Do you offer fee discounts?</span>
            <i class="fas fa-chevron-down faq-icon" aria-hidden="true"></i>
          </button>
          <div class="faq-answer" id="faq-answer-5" aria-labelledby="faq-question-5" role="region">
            Yes! VitalSwap token holders receive up to 50% fee discounts based on their holding tier. High-volume traders also qualify for reduced fees through our VIP program.
          </div>
        </div>
      </div>
      
      <div class="custom-question-box fade-in" role="complementary" aria-labelledby="custom-question-heading">
        <h3 id="custom-question-heading">Have a Custom Question?</h3>
        <p>Can't find what you're looking for? Send us your question directly.</p>
        <form id="customQuestionForm" role="form" aria-label="Submit custom question">
          <label for="userEmail" class="sr-only">Your Email Address</label>
          <input type="email" placeholder="Your email" required id="userEmail" aria-label="Enter your email address for response" aria-describedby="email-help">
          <div id="email-help" class="sr-only">We'll use this email to send you a response to your question</div>
          
          <label for="userQuestion" class="sr-only">Your Question</label>
          <textarea placeholder="Your question..." required id="userQuestion" rows="4" aria-label="Enter your question about VitalSwap fees or services" aria-describedby="question-help"></textarea>
          <div id="question-help" class="sr-only">Ask anything about VitalSwap fees, services, or how our platform works</div>
          
          <button type="submit" class="btn btn-primary" aria-describedby="submit-help">Send Question</button>
          <div id="submit-help" class="sr-only">Submit your question and we'll respond via email within 24 hours</div>
        </form>
      </div>
    </div>
  </div>
</section>



<!-- COMPLIANCE SECTION -->
<section class="compliance" id="compliance">
  <div class="container">
    <div class="section-header fade-in">
      <h2 class="section-title">Security & Compliance</h2>
      <p class="section-subtitle">Trusted by regulators and audited by industry leaders</p>
    </div>
    
    <div class="compliance-grid">
      <div class="compliance-card fade-in">
        <div class="compliance-icon">
          <i class="fas fa-shield-alt"></i>
        </div>
        <h3 class="compliance-title">SOC 2 Type II</h3>
        <p class="compliance-description">Independently audited security controls and operational effectiveness</p>
        <div class="compliance-badge">
          <i class="fas fa-check-circle"></i>
          <span>Certified</span>
        </div>
      </div>
      
      <div class="compliance-card fade-in">
        <div class="compliance-icon">
          <i class="fas fa-university"></i>
        </div>
        <h3 class="compliance-title">PCI DSS Level 1</h3>
        <p class="compliance-description">Highest level of payment card industry data security standards</p>
        <div class="compliance-badge">
          <i class="fas fa-check-circle"></i>
          <span>Compliant</span>
        </div>
      </div>
      
      <div class="compliance-card fade-in">
        <div class="compliance-icon">
          <i class="fas fa-lock"></i>
        </div>
        <h3 class="compliance-title">ISO 27001</h3>
        <p class="compliance-description">International standard for information security management systems</p>
        <div class="compliance-badge">
          <i class="fas fa-check-circle"></i>
          <span>Certified</span>
        </div>
      </div>
      
      <div class="compliance-card fade-in">
        <div class="compliance-icon">
          <i class="fas fa-balance-scale"></i>
        </div>
        <h3 class="compliance-title">GDPR Compliant</h3>
        <p class="compliance-description">Full compliance with European data protection regulations</p>
        <div class="compliance-badge">
          <i class="fas fa-check-circle"></i>
          <span>Compliant</span>
        </div>
      </div>
      
      <div class="compliance-card fade-in">
        <div class="compliance-icon">
          <i class="fas fa-eye"></i>
        </div>
        <h3 class="compliance-title">AML/KYC</h3>
        <p class="compliance-description">Advanced anti-money laundering and know your customer procedures</p>
        <div class="compliance-badge">
          <i class="fas fa-check-circle"></i>
          <span>Verified</span>
        </div>
      </div>
      
      <div class="compliance-card fade-in">
        <div class="compliance-icon">
          <i class="fas fa-certificate"></i>
        </div>
        <h3 class="compliance-title">Multi-Audited</h3>
        <p class="compliance-description">Regular security audits by leading cybersecurity firms</p>
        <div class="compliance-badge">
          <i class="fas fa-check-circle"></i>
          <span>Ongoing</span>
        </div>
      </div>
    </div>
  </div>
</section>

</main>

<!-- FOOTER -->
<footer role="contentinfo" aria-label="Site footer">
  <div class="footer-content">
    <div class="footer-section">
      <img src="https://images.vitalswap.com/pay-with-vitalswap/1.png" alt="VitalSwap company logo" class="preloader-logo">
      <p style="color: var(--gray-400); margin-bottom: 1rem;">The future of transparent decentralized trading.</p>
      <nav aria-label="Social media links" style="display: flex; gap: 1rem; justify-content: center;">
        <a href="#" style="color: var(--secondary); font-size: 1.2rem;" aria-label="Follow us on Twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
        <a href="#" style="color: var(--secondary); font-size: 1.2rem;" aria-label="Join our Discord community"><i class="fab fa-discord" aria-hidden="true"></i></a>
        <a href="#" style="color: var(--secondary); font-size: 1.2rem;" aria-label="Connect on Telegram"><i class="fab fa-telegram" aria-hidden="true"></i></a>
        <a href="#" style="color: var(--secondary); font-size: 1.2rem;" aria-label="View our GitHub repository"><i class="fab fa-github" aria-hidden="true"></i></a>
      </nav>
    </div>
    
    <div class="footer-section">
      <h3>Product</h3>
      <a href="#">Trading</a>
      <a href="#">Liquidity Pools</a>
      <a href="#">Governance</a>
      <a href="#">Analytics</a>
    </div>
    
    <div class="footer-section">
      <h3>Resources</h3>
      <a href="#">Documentation</a>
      <a href="#">API</a>
      <a href="#">Help Center</a>
      <a href="#">Blog</a>
    </div>
    
    <div class="footer-section">
      <h3>Company</h3>
      <a href="#">About</a>
      <a href="#">Careers</a>
      <a href="#">Privacy</a>
      <a href="#">Terms</a>
    </div>
  </div>
  
  <div class="footer-bottom">
    <p>&copy; 2025 VitalSwap. All rights reserved. Algonauts.</p>
  </div>
</footer>

<script>
// PARTICLE SYSTEM
function createParticles() {
  const particlesContainer = document.getElementById('particles');
  const particleCount = 50;
  
  for (let i = 0; i < particleCount; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.style.left = Math.random() * 100 + '%';
    particle.style.animationDelay = Math.random() * 6 + 's';
    particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
    particlesContainer.appendChild(particle);
  }
}

// LASER LIGHTS
function createLasers() {
  const laserContainer = document.getElementById('lasers');
  const laserCount = 5;
  
  for (let i = 0; i < laserCount; i++) {
    const laser = document.createElement('div');
    laser.className = 'laser';
    laser.style.top = Math.random() * 100 + '%';
    laser.style.animationDelay = Math.random() * 4 + 's';
    laser.style.animationDuration = (Math.random() * 2 + 3) + 's';
    laserContainer.appendChild(laser);
  }
}

// DYNAMIC NAVIGATION
function handleNavigation() {
  const nav = document.getElementById('nav');
  let lastScrollY = window.scrollY;
  
  window.addEventListener('scroll', () => {
    const currentScrollY = window.scrollY;
    
    if (currentScrollY > 100) {
      nav.classList.add('nav-glass');
    } else {
      nav.classList.remove('nav-glass');
    }
    
    if (currentScrollY > lastScrollY && currentScrollY > 200) {
      nav.style.transform = 'translateY(-100%)';
    } else {
      nav.style.transform = 'translateY(0)';
    }
    
    lastScrollY = currentScrollY;
  });
}

// FEE CALCULATOR
function setupCalculator() {
  const accountTypeSelect = document.getElementById('accountType');
  const serviceTypeSelect = document.getElementById('serviceType');
  const specificServiceSelect = document.getElementById('specificService');
  const amountInput = document.getElementById('tradeAmount');
  const currencySelect = document.getElementById('currency');
  const targetCurrencySelect = document.getElementById('targetCurrency');
  const currencyConverter = document.getElementById('currencyConverter');
  const convertedAmountEl = document.getElementById('convertedAmount');
  const feeResult = document.getElementById('feeResult');
  const networkFeeEl = document.getElementById('networkFee');
  const platformFeeEl = document.getElementById('platformFee');
  const totalFeeEl = document.getElementById('totalFee');
  
  function populateServiceTypes() {
    const accountType = accountTypeSelect.value;
    const services = Object.keys(feeData[accountType] || {});
    
    serviceTypeSelect.innerHTML = '<option value="">Select Service</option>';
    services.forEach(service => {
      const option = document.createElement('option');
      option.value = service;
      option.textContent = service;
      serviceTypeSelect.appendChild(option);
    });
    
    specificServiceSelect.innerHTML = '<option value="">Select Specific Fee</option>';
  }
  
  function populateSpecificServices() {
    const accountType = accountTypeSelect.value;
    const serviceType = serviceTypeSelect.value;
    
    if (!serviceType) {
      specificServiceSelect.innerHTML = '<option value="">Select Specific Fee</option>';
      return;
    }
    
    // Auto-set currency to NGN for NGN services (optional - user can still change)
    if (serviceType === 'NG Virtual Bank Account' && currencySelect.value === 'USD') {
      currencySelect.value = 'NGN';
    }
    
    const specificServices = feeData[accountType][serviceType] || [];
    specificServiceSelect.innerHTML = '<option value="">Select Specific Fee</option>';
    
    specificServices.forEach((service, index) => {
      const option = document.createElement('option');
      option.value = index;
      option.textContent = service.Service;
      specificServiceSelect.appendChild(option);
    });
  }
  
  async function convertCurrency() {
    const amount = parseFloat(amountInput.value) || 0;
    const fromCurrency = currencySelect.value;
    const toCurrency = targetCurrencySelect.value;
    
    if (amount > 0 && fromCurrency !== toCurrency) {
      currencyConverter.style.display = 'block';
      
      try {
        const convertedAmount = await convertCurrencyAmount(amount, fromCurrency, toCurrency);
        const symbol = getCurrencySymbol(toCurrency);
        convertedAmountEl.textContent = `${symbol}${convertedAmount.toFixed(2)}`;
      } catch (error) {
        convertedAmountEl.textContent = 'Conversion unavailable';
      }
    } else {
      currencyConverter.style.display = 'none';
    }
  }
  
  // Helper function to convert currency using ONLY live API rates
  async function convertCurrencyAmount(amount, fromCurrency, toCurrency) {
    if (fromCurrency === toCurrency) return amount;
    
    try {
      // Use VitalSwap's live API for conversion
      const response = await fetch(`https://2kbbumlxz3.execute-api.us-east-1.amazonaws.com/default/exchange?from=${fromCurrency}&to=${toCurrency}`);
      const data = await response.json();
      
      if (data.error) {
        console.error('Live API conversion failed:', data.error);
        return 0; // Return 0 if conversion fails
      }
      
      // Use the live rate from API
      const rate = data.rate || data.conversion_rate || data[toCurrency]?.rate;
      if (rate) {
        return amount * rate;
      }
      
      console.error('No conversion rate found in API response');
      return 0;
    } catch (error) {
      console.error('Currency conversion API failed:', error);
      return 0; // Return 0 if API fails
    }
  }
  
  // Helper function to get currency symbol
  function getCurrencySymbol(currency) {
    if (exchangeRates[currency]) {
      return exchangeRates[currency].symbol;
    }
    // Fallback symbols
    const fallbackSymbols = {
      'USD': '$', 'NGN': '₦'
    };
    return fallbackSymbols[currency] || '$';
  }
  
  async function calculateFee() {
    const accountType = accountTypeSelect.value;
    const serviceType = serviceTypeSelect.value;
    const specificIndex = specificServiceSelect.value;
    const amount = parseFloat(amountInput.value) || 0;
    const selectedCurrency = currencySelect.value;
    const currencySymbol = getCurrencySymbol(selectedCurrency);
    const feeOption = document.querySelector('input[name="feeOption"]:checked').value;
    
    convertCurrency();
    
    // Validation checks
    if (!serviceType) {
      resetFeeDisplay('Select Service', currencySymbol);
      return;
    }
    
    if (specificIndex === '') {
      resetFeeDisplay('Select Specific Fee', currencySymbol);
      return;
    }
    
    if (amount <= 0) {
      resetFeeDisplay('Enter Amount', currencySymbol);
      return;
    }
    
    if (!validateAmount(amount)) {
      resetFeeDisplay('Enter Valid Amount', currencySymbol);
      return;
    }
    
    // Show loading state while calculating
    showLoadingState();
    
    const service = feeData[accountType][serviceType][specificIndex];
    const feeStr = service.Fee;
    
    let calculatedFeeInSelectedCurrency = 0;
    let feeDisplay = feeStr;
    
    // Parse and calculate fee
    if (feeStr === 'FREE') {
      calculatedFeeInSelectedCurrency = 0;
      feeDisplay = 'FREE';
    } else if (feeStr.includes('%')) {
      // Handle percentage fees
      const percentMatch = feeStr.match(/([\d.]+)%/);
      if (percentMatch) {
        const percentage = parseFloat(percentMatch[1]) / 100;
        
        if (feeOption === 'include') {
          calculatedFeeInSelectedCurrency = (amount * percentage) / (1 + percentage);
        } else {
          calculatedFeeInSelectedCurrency = amount * percentage;
        }
        
        // Handle capped fees
        if (feeStr.includes('($')) {
          const capMatch = feeStr.match(/\(\$([\d.]+)–\$([\d.]+)\)/) || feeStr.match(/\(\$([\d.]+) – \$([\d.]+)\)/);
          if (capMatch) {
            const minCapUSD = parseFloat(capMatch[1]);
            const maxCapUSD = parseFloat(capMatch[2]);
            
            // Convert caps to selected currency
            const minCapConverted = await convertCurrencyAmount(minCapUSD, 'USD', selectedCurrency);
            const maxCapConverted = await convertCurrencyAmount(maxCapUSD, 'USD', selectedCurrency);
            
            calculatedFeeInSelectedCurrency = Math.max(minCapConverted, Math.min(maxCapConverted, calculatedFeeInSelectedCurrency));
          }
        }
        
        feeDisplay = `${percentMatch[1]}% = ${currencySymbol}${calculatedFeeInSelectedCurrency.toFixed(2)}`;
      }
    } else {
      // Handle fixed fees (USD or NGN)
      const dollarMatch = feeStr.match(/\$([\d.]+)/);
      const nairaMatch = feeStr.match(/₦([\d,]+)/);
      
      if (dollarMatch) {
        const feeInUSD = parseFloat(dollarMatch[1]);
        try {
          calculatedFeeInSelectedCurrency = await convertCurrencyAmount(feeInUSD, 'USD', selectedCurrency);
        } catch (error) {
          showToast('Currency conversion failed. Using original currency.', 'warning');
          calculatedFeeInSelectedCurrency = selectedCurrency === 'USD' ? feeInUSD : 0;
        }
        
        if (selectedCurrency === 'USD') {
          feeDisplay = `$${feeInUSD}`;
        } else {
          // Only show conversion if we got a valid rate from live API
          if (calculatedFeeInSelectedCurrency > 0) {
            feeDisplay = `$${feeInUSD} = ${currencySymbol}${calculatedFeeInSelectedCurrency.toFixed(2)}`;
          } else {
            feeDisplay = `$${feeInUSD} (Live rate unavailable)`;
          }
        }
      } else if (nairaMatch) {
        const feeInNGN = parseFloat(nairaMatch[1].replace(',', ''));
        try {
          calculatedFeeInSelectedCurrency = await convertCurrencyAmount(feeInNGN, 'NGN', selectedCurrency);
        } catch (error) {
          showToast('Currency conversion failed. Using original currency.', 'warning');
          calculatedFeeInSelectedCurrency = selectedCurrency === 'NGN' ? feeInNGN : 0;
        }
        
        if (selectedCurrency === 'NGN') {
          feeDisplay = `₦${feeInNGN.toLocaleString()}`;
        } else {
          // Only show conversion if we got a valid rate from live API
          if (calculatedFeeInSelectedCurrency > 0) {
            feeDisplay = `₦${feeInNGN.toLocaleString()} = ${currencySymbol}${calculatedFeeInSelectedCurrency.toFixed(2)}`;
          } else {
            feeDisplay = `₦${feeInNGN.toLocaleString()} (Live rate unavailable)`;
          }
        }
      }
    }
    
    // Calculate final amounts
    let youPayReceive;
    const totalLabelEl = document.getElementById('totalLabel');
    
    if (feeOption === 'include') {
      youPayReceive = amount - calculatedFeeInSelectedCurrency;
      totalLabelEl.textContent = 'You Receive';
    } else {
      youPayReceive = amount + calculatedFeeInSelectedCurrency;
      totalLabelEl.textContent = 'You Pay';
    }
    
    // Save calculation to recent history
    saveRecentCalculation({
      amount,
      currency: selectedCurrency,
      service: service.Service,
      fee: calculatedFeeInSelectedCurrency,
      total: youPayReceive
    });
    
    // Update display
    feeResult.innerHTML = `
      <div style="display: flex; align-items: center; gap: 1rem; justify-content: center;">
        <i class="fas fa-calculator" aria-hidden="true"></i>
        <span>${service.Service}: ${feeDisplay}</span>
      </div>
    `;
    feeResult.classList.add('active');
    
    const feeAmount = feeStr === 'FREE' ? 'FREE' : `${currencySymbol}${calculatedFeeInSelectedCurrency.toFixed(2)}`;
    
    // Add visual feedback for changes
    networkFeeEl.classList.add('value-change');
    totalFeeEl.classList.add('value-change');
    
    networkFeeEl.textContent = feeAmount;
    platformFeeEl.textContent = service.Service;
    totalFeeEl.textContent = `${currencySymbol}${youPayReceive.toFixed(2)}`;
    
    // Remove animation classes after animation completes
    setTimeout(() => {
      networkFeeEl.classList.remove('value-change');
      totalFeeEl.classList.remove('value-change');
    }, 2000);
    
    // Announce results to screen reader
    announceCalculationResult(
      service.Service,
      feeAmount,
      `${currencySymbol}${youPayReceive.toFixed(2)}`,
      selectedCurrency
    );
    
    setTimeout(() => feeResult.classList.remove('active'), 500);
  }
  
  function resetFeeDisplay(message, currencySymbol) {
    feeResult.innerHTML = `<span>Please ${message.toLowerCase()}</span>`;
    networkFeeEl.textContent = `${currencySymbol}0.00`;
    platformFeeEl.textContent = message;
    totalFeeEl.textContent = `${currencySymbol}0.00`;
    document.getElementById('totalLabel').textContent = 'You Pay/Receive';
  }
  
  function showLoadingState() {
    feeResult.innerHTML = '<div class="skeleton skeleton-text"></div>';
    networkFeeEl.innerHTML = '<div class="skeleton skeleton-text"></div>';
    totalFeeEl.innerHTML = '<div class="skeleton skeleton-text"></div>';
    announceLoading('Calculating fees, please wait');
  }
  
  function validateAmount(amount) {
    const errorEl = document.getElementById('amountError');
    const inputEl = document.getElementById('tradeAmount');
    
    if (amount < 0) {
      const errorMsg = 'Amount cannot be negative';
      errorEl.innerHTML = `<i class="fas fa-exclamation-triangle" aria-hidden="true"></i> ${errorMsg}`;
      errorEl.style.display = 'flex';
      inputEl.classList.add('input-error');
      inputEl.setAttribute('aria-invalid', 'true');
      announceError(errorMsg);
      return false;
    } else if (amount > 1000000) {
      const errorMsg = 'Amount too large, maximum is 1,000,000';
      errorEl.innerHTML = `<i class="fas fa-exclamation-triangle" aria-hidden="true"></i> ${errorMsg}`;
      errorEl.style.display = 'flex';
      inputEl.classList.add('input-error');
      inputEl.setAttribute('aria-invalid', 'true');
      announceError(errorMsg);
      return false;
    } else {
      errorEl.style.display = 'none';
      inputEl.classList.remove('input-error');
      inputEl.setAttribute('aria-invalid', 'false');
      return true;
    }
  }
  
  accountTypeSelect.addEventListener('change', populateServiceTypes);
  serviceTypeSelect.addEventListener('change', populateSpecificServices);
  specificServiceSelect.addEventListener('change', calculateFee);
  amountInput.addEventListener('input', calculateFee);
  currencySelect.addEventListener('change', calculateFee);
  targetCurrencySelect.addEventListener('change', convertCurrency);
  
  // Add event listeners for fee option radio buttons
  document.querySelectorAll('input[name="feeOption"]').forEach(radio => {
    radio.addEventListener('change', calculateFee);
  });
  
  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Tab') {
      // Ensure proper tab order
      const focusableElements = document.querySelectorAll('select, input, button, [tabindex]:not([tabindex="-1"])');
      const currentIndex = Array.from(focusableElements).indexOf(document.activeElement);
      
      if (e.shiftKey && currentIndex === 0) {
        e.preventDefault();
        focusableElements[focusableElements.length - 1].focus();
      } else if (!e.shiftKey && currentIndex === focusableElements.length - 1) {
        e.preventDefault();
        focusableElements[0].focus();
      }
    }
    
    // Enter key to calculate
    if (e.key === 'Enter' && document.activeElement.id === 'tradeAmount') {
      calculateFee();
    }
  });
  
  // Real-time validation
  amountInput.addEventListener('input', (e) => {
    const amount = parseFloat(e.target.value) || 0;
    validateAmount(amount);
  });
  
  populateServiceTypes();
  loadRecentCalculations();
}

// Recent calculations functionality
function saveRecentCalculation(calc) {
  let recent = JSON.parse(localStorage.getItem('recentCalculations') || '[]');
  
  // Add new calculation
  recent.unshift(calc);
  
  // Keep only last 10 calculations
  recent = recent.slice(0, 10);
  
  localStorage.setItem('recentCalculations', JSON.stringify(recent));
  updateRecentAmounts();
}

function loadRecentCalculations() {
  updateRecentAmounts();
}

function updateRecentAmounts() {
  const recent = JSON.parse(localStorage.getItem('recentCalculations') || '[]');
  const datalist = document.getElementById('recentAmounts');
  
  // Get unique amounts
  const uniqueAmounts = [...new Set(recent.map(calc => calc.amount))];
  
  datalist.innerHTML = uniqueAmounts.slice(0, 5).map(amount => 
    `<option value="${amount}">${amount}</option>`
  ).join('');
}

// FAQ FUNCTIONALITY
function setupFAQ() {
  const faqItems = document.querySelectorAll('.faq-item');
  
  faqItems.forEach(item => {
    const question = item.querySelector('.faq-question');
    const answer = item.querySelector('.faq-answer');
    
    question.addEventListener('click', () => {
      const isExpanded = question.getAttribute('aria-expanded') === 'true';
      
      // Close all other items
      faqItems.forEach(otherItem => {
        const otherQuestion = otherItem.querySelector('.faq-question');
        const otherAnswer = otherItem.querySelector('.faq-answer');
        if (otherItem !== item) {
          otherItem.classList.remove('active');
          otherQuestion.setAttribute('aria-expanded', 'false');
        }
      });
      
      // Toggle current item
      const newState = !isExpanded;
      item.classList.toggle('active', newState);
      question.setAttribute('aria-expanded', newState.toString());
      
      // Announce to screen reader
      const questionText = question.querySelector('span').textContent;
      if (newState) {
        announceToScreenReader(`Expanded: ${questionText}`);
      } else {
        announceToScreenReader(`Collapsed: ${questionText}`);
      }
    });
    
    // Keyboard support
    question.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        question.click();
      }
    });
  });
}

// SCROLL ANIMATIONS
function setupScrollAnimations() {
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, observerOptions);
  
  // Observe all animated elements
  document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right').forEach(el => {
    observer.observe(el);
  });
}

// SMOOTH SCROLLING
function setupSmoothScrolling() {
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
}

// Infinite Carousel Functionality
let currentSlide = 0;
let isTransitioning = false;
let originalCardCount = 0;
let autoScrollInterval;

function setupCarousel() {
  const wrapper = document.getElementById('carouselWrapper');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  
  if (!wrapper || !prevBtn || !nextBtn) return;
  
  function initializeCarousel() {
    const cards = document.querySelectorAll('.service-card');
    if (cards.length === 0) return;
    
    originalCardCount = cards.length / 3; // We have 3 sets
    currentSlide = originalCardCount; // Start at middle set
    
    function updateCarousel(instant = false) {
      const currentCards = document.querySelectorAll('.service-card');
      const isMobile = window.innerWidth <= 768;
      const cardWidth = isMobile ? 280 : 370;
      const gap = isMobile ? 24 : 32;
      const containerWidth = wrapper.parentElement.offsetWidth;
      const centerOffset = (containerWidth - cardWidth) / 2;
      const offset = (currentSlide * (cardWidth + gap)) - centerOffset;
      
      wrapper.style.transition = instant ? 'none' : 'transform 0.5s ease';
      wrapper.style.transform = `translateX(-${offset}px)`;
      
      // Update center focus
      currentCards.forEach((card, index) => {
        card.classList.remove('center-focus');
        if (index === currentSlide + 1) {
          card.classList.add('center-focus');
        }
      });
      
      if (!instant) {
        setTimeout(() => {
          if (currentSlide >= originalCardCount * 2) {
            currentSlide = originalCardCount;
            updateCarousel(true);
          } else if (currentSlide < originalCardCount) {
            currentSlide = originalCardCount * 2 - 1;
            updateCarousel(true);
          }
        }, 500);
      }
    }
    
    function nextSlide() {
      if (isTransitioning) return;
      isTransitioning = true;
      currentSlide++;
      updateCarousel();
      setTimeout(() => { isTransitioning = false; }, 500);
    }
    
    function prevSlide() {
      if (isTransitioning) return;
      isTransitioning = true;
      currentSlide--;
      updateCarousel();
      setTimeout(() => { isTransitioning = false; }, 500);
    }
    
    // Clear existing event listeners
    nextBtn.replaceWith(nextBtn.cloneNode(true));
    prevBtn.replaceWith(prevBtn.cloneNode(true));
    
    // Get new references
    const newNextBtn = document.getElementById('nextBtn');
    const newPrevBtn = document.getElementById('prevBtn');
    
    newNextBtn.addEventListener('click', nextSlide);
    newPrevBtn.addEventListener('click', prevSlide);
    
    // Clear existing auto-scroll
    if (autoScrollInterval) {
      clearInterval(autoScrollInterval);
    }
    
    // Auto-scroll
    autoScrollInterval = setInterval(nextSlide, 2500);
    
    // Initial setup
    updateCarousel(true);
    
    // Store update function globally
    window.updateCarouselPosition = updateCarousel;
  }
  
  // Wait for cards to be generated
  setTimeout(initializeCarousel, 100);
  
  // Re-initialize when cards are regenerated
  window.reinitializeCarousel = initializeCarousel;
}

// Setup filter buttons
function setupFilterButtons() {
  const filterButtons = document.querySelectorAll('.filter-btn');
  
  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      // Update active button
      filterButtons.forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');
      
      const filter = button.getAttribute('data-filter');
      
      // Regenerate cards based on filter
      regenerateFilteredCards(filter);
    });
  });
}

function regenerateFilteredCards(filter) {
  const grid = document.getElementById('servicesGrid');
  grid.innerHTML = ''; // Clear existing cards
  
  const allServices = new Set();
  
  Object.keys(feeData).forEach(accountType => {
    Object.keys(feeData[accountType]).forEach(serviceCategory => {
      const category = categoryMapping[serviceCategory] || 'other';
      if (filter === 'all' || category === filter) {
        allServices.add(serviceCategory);
      }
    });
  });
  
  const servicesArray = Array.from(allServices);
  
  // Create 3 sets for infinite loop
  for (let i = 0; i < 3; i++) {
    servicesArray.forEach(serviceCategory => {
      const card = createServiceCard(serviceCategory);
      grid.appendChild(card);
    });
  }
  
  // Update carousel count and reinitialize
  originalCardCount = servicesArray.length;
  currentSlide = originalCardCount;
  
  // Reinitialize carousel
  setTimeout(() => {
    if (window.reinitializeCarousel) {
      window.reinitializeCarousel();
    }
  }, 100);
}



// PRELOADER
function hidePreloader() {
  const preloader = document.getElementById('preloader');
  setTimeout(() => {
    preloader.style.opacity = '0';
    setTimeout(() => {
      preloader.style.display = 'none';
    }, 500);
  }, 2000);
}

// SWAP AI FUNCTIONALITY
function setupSwapAI() {
  const aiButton = document.getElementById('aiChatButton');
  const aiPanel = document.getElementById('aiChatPanel');
  const aiCloseBtn = document.getElementById('aiCloseBtn');
  const aiInput = document.getElementById('aiInput');
  const aiSendBtn = document.getElementById('aiSendBtn');
  const aiMessages = document.getElementById('aiChatMessages');
  
  function addMessage(text, isUser = false) {
    const messageDiv = document.createElement('div');
    messageDiv.className = isUser ? 'ai-message user-message' : 'ai-message';
    messageDiv.innerHTML = `
      <i class="fas fa-${isUser ? 'user' : 'robot'}"></i>
      <span>${text}</span>
    `;
    aiMessages.appendChild(messageDiv);
    aiMessages.scrollTop = aiMessages.scrollHeight;
  }
  
  function addTypingIndicator() {
    const typingDiv = document.createElement('div');
    typingDiv.className = 'ai-message typing-indicator';
    typingDiv.innerHTML = `
      <i class="fas fa-robot"></i>
      <span>Thinking...</span>
    `;
    aiMessages.appendChild(typingDiv);
    aiMessages.scrollTop = aiMessages.scrollHeight;
    return typingDiv;
  }
  
  async function getAIResponse(question) {
    try {
      const response = await fetch('/api/ai', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          message: question,
          context: 'VitalSwap fee calculator and services'
        })
      });
      
      const data = await response.json();
      return data.response || 'Sorry, I\'m having trouble responding right now. Please try again.';
    } catch (error) {
      console.error('AI API error:', error);
      return 'I\'m currently offline. Please try again later or contact support for immediate assistance.';
    }
  }
  
  async function sendMessage() {
    const message = aiInput.value.trim();
    if (!message) return;
    
    addMessage(message, true);
    aiInput.value = '';
    
    const typingIndicator = addTypingIndicator();
    
    try {
      const response = await getAIResponse(message);
      aiMessages.removeChild(typingIndicator);
      addMessage(response);
    } catch (error) {
      aiMessages.removeChild(typingIndicator);
      addMessage('Sorry, I encountered an error. Please try again.');
    }
  }
  
  aiButton.addEventListener('click', () => {
    aiPanel.classList.toggle('active');
  });
  
  aiCloseBtn.addEventListener('click', () => {
    aiPanel.classList.remove('active');
  });
  
  aiSendBtn.addEventListener('click', sendMessage);
  
  aiInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      sendMessage();
    }
  });
}

// SCROLL TO TOP FUNCTIONALITY
function setupScrollToTop() {
  const scrollBtn = document.getElementById('scrollToTop');
  
  window.addEventListener('scroll', () => {
    if (window.scrollY > 300) {
      scrollBtn.classList.add('visible');
    } else {
      scrollBtn.classList.remove('visible');
    }
  });
  
  scrollBtn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
}

// DARK MODE TOGGLE
function setupDarkMode() {
  const themeToggle = document.getElementById('themeToggle');
  const body = document.body;
  
  // Auto-detect system preference
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)');
  const savedTheme = localStorage.getItem('theme');
  
  // Apply theme based on saved preference or system preference
  if (savedTheme === 'dark' || (!savedTheme && prefersDark.matches)) {
    body.classList.add('dark-mode');
    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
  }
  
  // Listen for system theme changes
  prefersDark.addEventListener('change', (e) => {
    if (!localStorage.getItem('theme')) {
      if (e.matches) {
        body.classList.add('dark-mode');
        themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
      } else {
        body.classList.remove('dark-mode');
        themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
      }
    }
  });
  
  themeToggle.addEventListener('click', () => {
    body.classList.toggle('dark-mode');
    const isDark = body.classList.contains('dark-mode');
    
    themeToggle.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    
    showToast(isDark ? 'Dark mode enabled' : 'Light mode enabled', 'success');
  });
}

// TOAST NOTIFICATIONS
function showToast(message, type = 'success') {
  const container = document.getElementById('toastContainer');
  const toast = document.createElement('div');
  toast.className = `toast ${type}`;
  
  const icons = {
    success: 'fas fa-check-circle',
    error: 'fas fa-exclamation-circle',
    warning: 'fas fa-exclamation-triangle',
    info: 'fas fa-info-circle'
  };
  
  toast.innerHTML = `
    <i class="${icons[type] || icons.info}"></i>
    <span>${message}</span>
  `;
  
  container.appendChild(toast);
  
  setTimeout(() => {
    toast.style.animation = 'slideInRight 0.3s ease reverse';
    setTimeout(() => container.removeChild(toast), 300);
  }, 3000);
}

// FLOATING ACTION MENU
function setupFloatingMenu() {
  const menuToggle = document.querySelector('.menu-toggle');
  const floatingMenu = document.querySelector('.floating-menu');
  
  if (menuToggle) {
    menuToggle.addEventListener('click', () => {
      floatingMenu.classList.toggle('active');
    });
  }
}

// Generate and download fee guide
function generateFeeGuide() {
  const csvContent = [
    ['Account Type', 'Service Category', 'Service', 'Fee', 'Description'],
    ...Object.entries(feeData).flatMap(([accountType, categories]) =>
      Object.entries(categories).flatMap(([category, services]) =>
        services.map(service => [
          accountType,
          category,
          service.Service,
          service.Fee,
          service.Description || ''
        ])
      )
    )
  ].map(row => row.map(cell => `"${cell}"`).join(',')).join('\n');
  
  const blob = new Blob([csvContent], { type: 'text/csv' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'VitalSwap_Fee_Guide.csv';
  a.click();
  URL.revokeObjectURL(url);
}

// Floating action menu handler
async function handleFloatingAction(action) {
  try {
    switch (action) {
      case 'save-favorites':
        showToast('Favorites saved successfully!', 'success');
        break;
      case 'share-comparison':
        const shareUrl = window.location.href;
        navigator.clipboard.writeText(shareUrl);
        showToast('Share link copied to clipboard!', 'success');
        break;
      case 'download-guide':
        generateFeeGuide();
        showToast('Fee guide downloaded!', 'success');
        break;
    }
  } catch (error) {
    showToast('Action failed. Please try again.', 'error');
  }
}

// ENHANCED INTERACTIONS
function setupEnhancedInteractions() {
  // Add click effects to buttons
  document.querySelectorAll('.btn, .filter-btn, .carousel-btn').forEach(btn => {
    btn.addEventListener('click', function(e) {
      const ripple = document.createElement('span');
      const rect = this.getBoundingClientRect();
      const size = Math.max(rect.width, rect.height);
      const x = e.clientX - rect.left - size / 2;
      const y = e.clientY - rect.top - size / 2;
      
      ripple.style.cssText = `
        position: absolute;
        width: ${size}px;
        height: ${size}px;
        left: ${x}px;
        top: ${y}px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        transform: scale(0);
        animation: ripple 0.6s ease-out;
        pointer-events: none;
      `;
      
      this.style.position = 'relative';
      this.style.overflow = 'hidden';
      this.appendChild(ripple);
      
      setTimeout(() => ripple.remove(), 600);
    });
  });
  
  // Add CSS for ripple animation
  const style = document.createElement('style');
  style.textContent = `
    @keyframes ripple {
      to { transform: scale(2); opacity: 0; }
    }
  `;
  document.head.appendChild(style);
}

// ENTERPRISE TICKER FUNCTIONALITY
function setupEnterpriseTicker() {
  const tickerData = {
    activeUsers: { current: 52847, trend: 'up' },
    volume24h: { current: 2.8, trend: 'up' },
    btcPrice: { current: 43250, trend: 'up' },
    ethPrice: { current: 2680, trend: 'down' },
    avgSpeed: { current: 2.1, trend: 'stable' },
    liquidity: { current: 847, trend: 'up' }
  };
  
  function updateTickerValues() {
    // Simulate real-time data updates
    Object.keys(tickerData).forEach(key => {
      const data = tickerData[key];
      const element = document.getElementById(key);
      if (!element) return;
      
      // Generate realistic fluctuations
      let change = 0;
      switch(key) {
        case 'activeUsers':
          change = Math.floor(Math.random() * 200) - 100;
          data.current = Math.max(50000, data.current + change);
          element.textContent = data.current.toLocaleString();
          break;
        case 'volume24h':
          change = (Math.random() * 0.2) - 0.1;
          data.current = Math.max(2.0, data.current + change);
          element.textContent = `$${data.current.toFixed(1)}B`;
          break;
        case 'btcPrice':
          change = Math.floor(Math.random() * 1000) - 500;
          data.current = Math.max(40000, data.current + change);
          element.textContent = `$${data.current.toLocaleString()}`;
          break;
        case 'ethPrice':
          change = Math.floor(Math.random() * 200) - 100;
          data.current = Math.max(2000, data.current + change);
          element.textContent = `$${data.current.toLocaleString()}`;
          break;
        case 'avgSpeed':
          change = (Math.random() * 0.4) - 0.2;
          data.current = Math.max(1.5, Math.min(3.0, data.current + change));
          element.textContent = `${data.current.toFixed(1)}s`;
          break;
        case 'liquidity':
          change = Math.floor(Math.random() * 20) - 10;
          data.current = Math.max(800, data.current + change);
          element.textContent = `$${data.current}M`;
          break;
      }
      
      // Add flash effect on update
      element.style.animation = 'none';
      setTimeout(() => {
        element.style.animation = 'valueGlow 2s ease-in-out infinite alternate';
      }, 10);
    });
  }
  
  // Update ticker every 3 seconds
  setInterval(updateTickerValues, 3000);
  
  // Add hover effects to ticker items
  document.querySelectorAll('.stat-item').forEach(item => {
    item.addEventListener('mouseenter', () => {
      item.style.transform = 'scale(1.05)';
      item.style.background = 'rgba(0, 212, 255, 0.15)';
    });
    
    item.addEventListener('mouseleave', () => {
      item.style.transform = 'scale(1)';
      item.style.background = 'transparent';
    });
  });
}

// CUSTOM QUESTION FORM
function setupCustomQuestionForm() {
  const form = document.getElementById('customQuestionForm');
  if (!form) return;
  
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const email = document.getElementById('userEmail').value;
    const question = document.getElementById('userQuestion').value;
    const button = form.querySelector('button');
    
    button.textContent = 'Sending...';
    button.disabled = true;
    
    try {
      // Send to your email endpoint
      await fetch('/api/send-question', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, question })
      });
    } catch (error) {
      // Ignore errors
    }
    
    // Always show success message
    showToast('Question sent successfully! We\'ll get back to you soon.', 'success');
    form.reset();
    
    button.textContent = 'Send Question';
    button.disabled = false;
  });
}

// FEATURES CAROUSEL
function setupFeaturesCarousel() {
  if (window.innerWidth > 768) return;
  
  const grid = document.getElementById('featuresGrid');
  const prevBtn = document.getElementById('featuresPrevBtn');
  const nextBtn = document.getElementById('featuresNextBtn');
  const dotsContainer = document.getElementById('featuresDots');
  const cards = document.querySelectorAll('.feature-card');
  
  // Check if required elements exist
  if (!grid || !prevBtn || !nextBtn || !dotsContainer || cards.length === 0) {
    console.log('Features carousel elements not found, skipping setup');
    return;
  }
  
  let currentIndex = 0;
  let autoScrollInterval;
  
  // Create dots
  cards.forEach((_, index) => {
    const dot = document.createElement('div');
    dot.className = `features-dot ${index === 0 ? 'active' : ''}`;
    dot.addEventListener('click', () => {
      goToSlide(index);
      resetAutoScroll();
    });
    dotsContainer.appendChild(dot);
  });
  
  function updateCarousel() {
    const containerWidth = grid.parentElement.offsetWidth;
    const cardWidth = containerWidth / 6; // Each card is 1/6 of container
    grid.style.transform = `translateX(-${currentIndex * cardWidth}px)`;
    
    // Update dots
    document.querySelectorAll('.features-dot').forEach((dot, index) => {
      dot.classList.toggle('active', index === currentIndex);
    });
  }
  
  function goToSlide(index) {
    currentIndex = Math.max(0, Math.min(cards.length - 1, index));
    updateCarousel();
  }
  
  function nextSlide() {
    currentIndex = currentIndex >= cards.length - 1 ? 0 : currentIndex + 1;
    updateCarousel();
  }
  
  function startAutoScroll() {
    autoScrollInterval = setInterval(nextSlide, 4000);
  }
  
  function resetAutoScroll() {
    clearInterval(autoScrollInterval);
    startAutoScroll();
  }
  
  prevBtn.addEventListener('click', () => {
    goToSlide(currentIndex - 1);
    resetAutoScroll();
  });
  
  nextBtn.addEventListener('click', () => {
    goToSlide(currentIndex + 1);
    resetAutoScroll();
  });
  
  // Start auto-scroll
  startAutoScroll();
}

// Focus management for accessibility without visual disruption
function initializeFocusManagement() {
  // Add focus-visible polyfill behavior
  let hadKeyboardEvent = true;
  const keyboardThrottleTimeout = 100;
  
  function onPointerDown() {
    hadKeyboardEvent = false;
  }
  
  function onKeyDown(e) {
    if (e.metaKey || e.altKey || e.ctrlKey) {
      return;
    }
    hadKeyboardEvent = true;
  }
  
  function onFocus(e) {
    if (hadKeyboardEvent || e.target.matches(':focus-visible')) {
      e.target.classList.add('focus-visible');
    }
  }
  
  function onBlur(e) {
    e.target.classList.remove('focus-visible');
  }
  
  document.addEventListener('keydown', onKeyDown, true);
  document.addEventListener('mousedown', onPointerDown, true);
  document.addEventListener('pointerdown', onPointerDown, true);
  document.addEventListener('touchstart', onPointerDown, true);
  document.addEventListener('focus', onFocus, true);
  document.addEventListener('blur', onBlur, true);
  
  document.body.classList.add('js-focus-visible');
}

// INITIALIZE EVERYTHING
document.addEventListener('DOMContentLoaded', async () => {
  initializeFocusManagement();
  hidePreloader();
  createParticles();
  createLasers();
  
  // Load live data first
  console.log('Loading live data...');
  feeData = await fetchFeeData();
  exchangeRates = await fetchExchangeRate();
  console.log('Live data loaded successfully');
  
  // Initialize components with live data
  generateServiceCards();
  generateComparisonTable();
  setupCarousel();
  setupFilterButtons();
  handleNavigation();
  setupCalculator();
  setupFAQ();
  setupScrollAnimations();
  setupSmoothScrolling();
  setupSwapAI();
  setupScrollToTop();
  setupDarkMode();
  setupFloatingMenu();
  setupEnhancedInteractions();
  setupEnterpriseTicker();
  setupFeaturesCarousel();
  setupCustomQuestionForm();
  
  // Pause auto-scroll on visibility change
  document.addEventListener('visibilitychange', () => {
    if (document.hidden) {
      // Page is hidden, pause auto-scroll
    } else {
      // Page is visible, resume auto-scroll
      if (window.innerWidth <= 768) {
        setupFeaturesCarousel();
      }
    }
  });
  
  // Add some initial animations
  setTimeout(() => {
    document.querySelectorAll('.fade-in').forEach((el, index) => {
      setTimeout(() => {
        el.classList.add('visible');
      }, index * 100);
    });
  }, 500);
  
  // Show welcome toast
  setTimeout(() => {
    showToast('Welcome to VitalSwap! Explore our transparent fees.', 'info');
  }, 3000);
  
  // Adjust layout for stats ticker
  document.querySelector('.nav-container').style.top = '40px';
  document.querySelector('.hero').style.paddingTop = '160px';
});

// PERFORMANCE OPTIMIZATION
let ticking = false;

function updateAnimations() {
  // Update particle positions or other animations here if needed
  ticking = false;
}

function requestTick() {
  if (!ticking) {
    requestAnimationFrame(updateAnimations);
    ticking = true;
  }
}

// MOUSE INTERACTION EFFECTS
document.addEventListener('mousemove', (e) => {
  const cursor = { x: e.clientX, y: e.clientY };
  
  // Add subtle parallax effect to floating cards
  document.querySelectorAll('.floating-card').forEach((card, index) => {
    const speed = (index + 1) * 0.02;
    const x = (cursor.x - window.innerWidth / 2) * speed;
    const y = (cursor.y - window.innerHeight / 2) * speed;
    
    card.style.transform = `translate(${x}px, ${y}px) translateY(-20px) rotate(2deg)`;
  });
});
</script>

<!-- FLOATING ACTION MENU -->
<div class="floating-menu" id="floatingMenu">
  <div class="menu-toggle" id="menuToggle">
    <i class="fas fa-plus"></i>
  </div>
  <div class="menu-items">
    <div class="menu-item" onclick="handleFloatingAction('save-favorites')" title="Save Favorites">
      <i class="fas fa-heart"></i>
    </div>
    <div class="menu-item" onclick="handleFloatingAction('share-comparison')" title="Share">
      <i class="fas fa-share-alt"></i>
    </div>
    <div class="menu-item" onclick="handleFloatingAction('download-guide')" title="Download">
      <i class="fas fa-download"></i>
    </div>
    <div class="menu-item" onclick="document.getElementById('calculator').scrollIntoView({behavior: 'smooth'})" title="Calculator">
      <i class="fas fa-calculator"></i>
    </div>
  </div>
</div>

<!-- SCROLL TO TOP BUTTON -->
<div class="scroll-to-top" id="scrollToTop">
  <i class="fas fa-chevron-up"></i>
</div>

<!-- ENTERPRISE STATS TICKER -->
<div class="stats-ticker" id="statsTicker">
  <div class="ticker-wrapper">
    <div class="ticker-label">
      <i class="fas fa-chart-line"></i>
      LIVE MARKET
    </div>
    <div class="ticker-content" id="tickerContent">
      <!-- Breaking News -->
      <div class="stat-item breaking-news">
        <i class="fas fa-bolt"></i>
        <span>BREAKING: New VitalSwap Features Live!</span>
      </div>
      
      <!-- Market Status -->
      <div class="stat-item market-status">
        <div class="status-dot"></div>
        <span>MARKETS OPEN</span>
      </div>
      
      <!-- Active Users -->
      <div class="stat-item">
        <i class="fas fa-users stat-icon"></i>
        <span>Active Users: </span>
        <span class="stat-value" id="activeUsers">52,847</span>
        <span class="stat-change positive">+2.3%</span>
      </div>
      
      <!-- Volume -->
      <div class="stat-item">
        <i class="fas fa-chart-bar stat-icon"></i>
        <span>24h Volume: </span>
        <span class="stat-value" id="volume24h">$2.8B</span>
        <span class="stat-change positive">+15.7%</span>
      </div>
      
      <!-- Crypto Prices -->
      <div class="stat-item crypto-price">
        <span>BTC</span>
        <div class="price-chart"></div>
        <span class="stat-value" id="btcPrice">$43,250</span>
        <span class="stat-change positive">+3.2%</span>
      </div>
      
      <div class="stat-item crypto-price">
        <span>ETH</span>
        <div class="price-chart"></div>
        <span class="stat-value" id="ethPrice">$2,680</span>
        <span class="stat-change negative">-1.8%</span>
      </div>
      
      <!-- System Performance -->
      <div class="stat-item">
        <i class="fas fa-server stat-icon"></i>
        <span>Uptime: </span>
        <span class="stat-value">99.97%</span>
        <span class="stat-change positive">OPTIMAL</span>
      </div>
      
      <!-- Speed -->
      <div class="stat-item">
        <i class="fas fa-tachometer-alt stat-icon"></i>
        <span>Avg Speed: </span>
        <span class="stat-value" id="avgSpeed">2.1s</span>
        <span class="stat-change positive">FAST</span>
      </div>
      
      <!-- Global Reach -->
      <div class="stat-item">
        <i class="fas fa-globe-americas stat-icon"></i>
        <span>Countries: </span>
        <span class="stat-value">157</span>
        <span class="stat-change positive">+3 NEW</span>
      </div>
      
      <!-- Fees -->
      <div class="stat-item">
        <i class="fas fa-percentage stat-icon"></i>
        <span>Min Fee: </span>
        <span class="stat-value">0.25%</span>
        <span class="stat-change positive">LOWEST</span>
      </div>
      
      <!-- Security -->
      <div class="stat-item">
        <i class="fas fa-shield-alt stat-icon"></i>
        <span>Security: </span>
        <span class="stat-value">SOC2</span>
        <span class="stat-change positive">CERTIFIED</span>
      </div>
      
      <!-- Liquidity -->
      <div class="stat-item">
        <i class="fas fa-water stat-icon"></i>
        <span>Liquidity: </span>
        <span class="stat-value" id="liquidity">$847M</span>
        <span class="stat-change positive">+8.9%</span>
      </div>
    </div>
  </div>
  <div class="ticker-secondary"></div>
</div>

<!-- DARK MODE TOGGLE -->
<div class="theme-toggle" id="themeToggle">
  <i class="fas fa-moon"></i>
</div>

<!-- NOTIFICATION TOAST -->
<div class="toast-container" id="toastContainer"></div>

<!-- SWAP AI CHAT WIDGET -->
<div class="swap-ai-widget" id="swapAiWidget">
  <div class="ai-chat-button" id="aiChatButton">
    <i class="fas fa-robot"></i>
  </div>
  <div class="ai-chat-panel" id="aiChatPanel">
    <div class="ai-chat-header">
      <div class="ai-info">
        <i class="fas fa-robot"></i>
        <span>Swap AI</span>
      </div>
      <button class="ai-close-btn" id="aiCloseBtn">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="ai-chat-messages" id="aiChatMessages">
      <div class="ai-message">
        <i class="fas fa-robot"></i>
        <span>Hi! I'm Swap AI. Ask me anything about VitalSwap fees, services, or trading!</span>
      </div>
    </div>
    <div class="ai-chat-input">
      <input type="text" id="aiInput" placeholder="Ask me anything..." maxlength="200">
      <button id="aiSendBtn"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>
</div>

</body>
</html>